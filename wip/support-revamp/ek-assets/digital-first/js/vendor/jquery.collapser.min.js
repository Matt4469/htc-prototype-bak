!function(s){s.fn.collapser=function(t,e,a){function l(s){void 0!==e&&e.apply(s)}function n(s){void 0!==a&&a.apply(s)}function i(e,a){l(e),1==a?(e[t.target](t.targetOnly)[C](),e.html(c),e.removeClass(t.collapseClass),e.addClass(t.expandClass)):(s(document).find(t.target)[C](),e.html(c),e.removeClass(t.collapseClass),e.addClass(t.expandClass)),n(e)}function d(e,a){l(e),1==a?(e[t.target](t.targetOnly)[r](),e.html(h),e.removeClass(t.expandClass),e.addClass(t.collapseClass)):(s(document).find(t.target)[r](),e.html(h),e.removeClass(t.expandClass),e.addClass(t.collapseClass)),n(e)}function o(e,a){1==a?e[t.target](t.targetOnly).is(":visible")?i(e,1):d(e,1):s(document).find(t.target).is(":visible")?i(e,2):d(e,2)}var c,h,r,C,p={target:"next",targetOnly:null,effect:"slide",changeText:!0,expandHtml:"Expand",collapseHtml:"Collapse",expandClass:"",collapseClass:""},t=s.extend(p,t);return"slide"==t.effect?(r="slideDown",C="slideUp"):(r="fadeIn",C="fadeOut"),1==t.changeText&&(c=t.expandHtml,h=t.collapseHtml),this.each(function(){s.fn[t.target]&&s(this)[t.target]()?s(this).toggle(function(){o(s(this),1)},function(){o(s(this),1)}):s(this).toggle(function(){o(s(this),2)},function(){o(s(this),2)}),s.fn[t.target]&&s(this)[t.target]()?s(this)[t.target]().is(":hidden")?(s(this).html(c),s(this).removeClass(t.collapseClass),s(this).addClass(t.expandClass)):(s(this).html(h),s(this).removeClass(t.expandClass),s(this).addClass(t.collapseClass)):s(document).find(t.target).is(":hidden")?s(this).html(c):s(this).html(h)})}}(jQuery);