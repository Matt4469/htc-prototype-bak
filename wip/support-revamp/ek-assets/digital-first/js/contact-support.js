var _hiddenFamily,_hiddenIndex,_hiddenProduct,_hiddenCategory,_hiddenContent,_hiddenPopup,_productListFirstMainContainer,_productListFirstLevelItems,_problemListTitleContainer,_problemListFirstMainContainer,_carrierListContainer,_productListDetailItemHeight=0,_selectedProductName="",_selectedCategoryName="",_selectedContentTitle,_carrierExisted,_jumpToLastSection,productSection=function(){"use strict";var e={activeDetailItem:function(){_productListFirstMainContainer.find(".detail-item").addClass("active")},removeFamilyIconHighline:function(){_productListFirstMainContainer.find(".product-item").removeClass("selected")},highlineFamilyIconSelected:function(){e.removeFamilyIconHighline(),_productListFirstMainContainer.find('.product-item[data-family="'+_hiddenFamily.val()+'"]').addClass("selected")},removeProductIconHighline:function(){_productListFirstMainContainer.find(".detail-item .related-product-item").removeClass("selected")},highlineProductIconSelected:function(){var t,n=_productListFirstMainContainer.find(".detail-item .related-product-item");e.removeProductIconHighline(),t=n.filter('[data-pname="'+_hiddenIndex.val()+'"]'),t.length>0&&(t.addClass("selected"),_selectedProductName=t.find(".product-name").text())},addProductListPadding:function(){_productListFirstMainContainer.addClass("add-padding")},revmoveProductListPadding:function(){commonSetting.isMobile()||_productListFirstMainContainer.removeClass("add-padding")},familyIconClick:function(e){e.find("div.product-item").off("click").on("click",function(e){var t=!1;commonSetting.isMobile()?t=!0:$(this).hasClass("selected")||(t=!0),t&&(_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(""),_hiddenProduct.val(""),_hiddenIndex.val(""),_hiddenFamily.val($(this).data("family")),contactSupport.pushParams())})},expandProductList:function(e,t,n){contactSupport.expandSecondLevelList(!0,e,t,function(e){n(e)})},setupCloseProductListForMobile:function(e){e.find(".detail-item .btn-close").off("click").on("click",function(){_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(""),_hiddenProduct.val(""),_hiddenFamily.val(""),contactSupport.pushParams()})},showProductListSection:function(){$(".product-listing").addClass("showed")},productIconClick:function(e){var t=e.find(".related-product-item");e.find(".detail-item");t.length&&t.off("click").on("click",function(){var e=$(this).data("pname-id");void 0!==e?(t.removeClass("selected"),$(this).addClass("selected"),_selectedProductName=$(this).find(".product-name").text(),_selectedCategoryName="",carrierSection.hideCarrierSection(),_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(""),_hiddenIndex.val($(this).data("pname")),_hiddenProduct.val(e),contactSupport.pushParams()):(_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(""),_hiddenProduct.val(""),_hiddenIndex.val($(this).data("pname")),contactSupport.pushParams())})}};return e}(),carrierSection=function(){"use strict";var e={highlineCarrierNameSelected:function(){if(_carrierListContainer.find("li").length>0){var e=_carrierListContainer.find("li").filter('[data-pname-id="'+_hiddenProduct.val()+'"]');e.length>0&&(e.addClass("selected"),_selectedProductName=e.data("pname"))}},showCarrierSection:function(){$(".carrier-listing").addClass("showed")},hideCarrierSection:function(){$(".carrier-listing").removeClass("showed")},expandCarrierlist:function(){_carrierExisted=!1;var t=_productListFirstMainContainer.find(".product-item.selected .related-product-item"),n=t.filter('[data-pname="'+_hiddenIndex.val()+'"]'),i=n.find(".hidden-carrier-block");i.length>0&&(e.updateCarrierContainer(i.clone()),_carrierExisted=!0)},carrierNameClick:function(){_carrierListContainer.find("li").off("click").on("click",function(){var e=$(this).data("pname-id");_carrierListContainer.find("li").removeClass("selected"),$(this).addClass("selected"),_hiddenContent.val(""),_hiddenCategory.val(""),_hiddenProduct.val(e),contactSupport.pushParams()})},updateCarrierContainer:function(e){var t="";e.find("li").length<4&&(t="less-than-3-items"),e.find("li").removeClass("selected"),e.find("ul").addClass(t),_carrierListContainer.html(e.html())}};return e}(),problemSection=function(){"use strict";var e={activeDetailItem:function(){_problemListFirstMainContainer.find(".detail-item").addClass("active")},highlineCategoryIconSelected:function(){_problemListFirstMainContainer.find(".product-item").removeClass("selected");var e=_problemListFirstMainContainer.find('.product-item[data-category="'+_hiddenCategory.val()+'"]');void 0!==e&&(e.addClass("selected"),_selectedCategoryName=e.find(".product-name").text())},showProblemListSection:function(){$(".problem-listing").addClass("showed")},hideProblemListSection:function(){$(".problem-listing").removeClass("showed")},callProblemList:function(e,t){var n,i=_problemListFirstMainContainer,o="";o=commonSetting.isPrototypeHost()?"ek-assets/digital-first/json/list.json":"/"+$("body").data("site")+"/support/troubleshootingjson.aspx?p_name="+encodeURIComponent(e),n=$.ajax({url:o,method:"GET",dataType:"json",beforeSend:function(e){_jumpToLastSection=!1}}),n.done(function(e){if(void 0!==e.lineItem&&e.lineItem.length>0){var n=e.lineItem,o={problemArray:n};i.html(""),i.append(tmpl("problem-type-list",o)),t()}else _jumpToLastSection=!0,_selectedCategoryName="",i.html(""),_hiddenPopup.val(""),_hiddenContent.val("0"),_hiddenCategory.val("0"),contactSupport.pushParams(!1)}),n.fail(function(e,t){})},categoryIconClick:function(e){e.find("div.product-item").off("click").on("click",function(e){var t=!1;if(commonSetting.isMobile()?t=!0:$(this).hasClass("selected")||(t=!0),t){var n=$(this).data("category");_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(n),void 0===e.originalEvent?contactSupport.pushParams(!1):contactSupport.pushParams()}})},unselectSingleContent:function(){_problemListFirstMainContainer.find(".single-content").removeClass("selected"),_problemListFirstMainContainer.find(".related-help-content-item.btn-need-more-help").removeClass("selected")},setupCloseContentListForMobile:function(e){e.find(".detail-item .btn-close").off("click").on("click",function(){_hiddenPopup.val(""),_hiddenContent.val(""),_hiddenCategory.val(""),contactSupport.pushParams()})},expandContentList:function(e,t,n){contactSupport.expandSecondLevelList(!0,e,t,function(e){n(e)})},singleContentClick:function(t){var n=t.find(".related-help-content-item.single-content");e.unselectSingleContent(),n.off("click").on("click",function(){var e=$(this).data("content-id");_hiddenPopup.val(""),_hiddenContent.val(e),contactSupport.pushParams()})},triggerFirstCategoryClick:function(){commonSetting.isMobile()||_problemListFirstMainContainer.find(".product-item").eq(0).trigger("click")},setupNeedMoreHelpClick:function(){e.unselectSingleContent(),$(".btn-need-more-help").off("click").on("click",function(){_hiddenPopup.val(""),$(this).hasClass("related-help-content-item")?_hiddenContent.val(0):(_hiddenContent.val(-1),commonSetting.isMobile()&&(_hiddenCategory.val(0),_selectedCategoryName="")),contactSupport.pushParams()})},updateProductName:function(e){_problemListTitleContainer.find("h4").find("span").text(e)},updateMobileTitleProductName:function(e){var t=_problemListTitleContainer.find("h4");t.find("span").text(e),_problemListFirstMainContainer.find(".m-popup-title").text(t.text())}};return e}(),contentSection=function(){"use strict";var e={resetEmailIconClick:function(e,t){$(".help-contact-list .email > a").off("click").on("click",function(n){n.preventDefault();var i;i=""!==t?$(this).attr("href")+"?pname="+encodeURIComponent(e)+"&pname_id="+encodeURIComponent(_hiddenProduct.val())+"&category_name="+encodeURIComponent(t)+"&category_id="+encodeURIComponent(_hiddenCategory.val()):$(this).attr("href")+"?pname="+encodeURIComponent(e)+"&pname_id="+encodeURIComponent(_hiddenProduct.val()),location.href=i})},highlineContentBlockSelected:function(){var e=_problemListFirstMainContainer.find('.single-content[data-content-id="'+_hiddenContent.val()+'"]');problemSection.unselectSingleContent(),e.length>0?(e.addClass("selected"),_selectedContentTitle=e.find(".product-help-info").eq(0).text()):"0"===_hiddenContent.val()&&_problemListFirstMainContainer.find(".related-help-content-item.btn-need-more-help").addClass("selected")},showMoreHelpSection:function(){$(".more-help-result").addClass("showed")},hideMoreHelpSection:function(){$(".more-help-result").removeClass("showed")},showContentAbstractSection:function(){$(".abstract-content").addClass("showed")},hideContentAbstractSection:function(){$(".abstract-content").removeClass("showed")},showPopup:function(){$(".popup-area").addClass("showed"),$("body").addClass("support-popup-fixed"),$(".popup-window").scrollTop(0)},hidePopup:function(){$(".popup-area").removeClass("showed"),$("body").removeClass("support-popup-fixed")},abstractContentClick:function(){$(".abstract-single-content-block").off("click").on("click",function(){_hiddenPopup.val("1"),contactSupport.pushParams()})},updateAbstractContent:function(t,n){e.callSingleContent(_hiddenProduct.val(),t,function(){n()})},popupSingleContent:function(){e.setupClosePopupBtn(),e.showPopup()},callSingleContent:function(t,n,i){var o,c="";c=commonSetting.isPrototypeHost()?"ek-assets/digital-first/json/content.json":"/"+$("body").data("site")+"/support/troubleshootingjson.aspx?p_name="+t+"&id="+n,o=$.ajax({url:c,method:"GET",dataType:"json"}),o.done(function(t){void 0!==t.content&&($(".single-article").html(t.content),e.buildAbstractContent(t.content),i())}),o.fail(function(e,t){})},buildAbstractContent:function(e){var t=$('<div class="temp-content-block"></div>');t.html(e);var n=t.text().substring(0,300);$(".abstract-content-block").text(n+"...")},buildSingleContentTitle:function(e){$(".abstract-single-content-block .title-block").text(e),$(".popup-article .popup-title").text(e)},buildSingleContentShortLink:function(){var e="#prototype";commonSetting.isPrototypeHost()||(e=location.protocol+"//"+location.host+"/"+$("body").data("site")+"/contact/productissue/"+_hiddenProduct.val()+"/"+_hiddenContent.val()+"/"),$(".go-to-page").attr("data-clipboard-text",e),new Clipboard(".go-to-page").on("success",function(e){$(".copy-msg").addClass("show"),e.clearSelection()})},hideCopiedMsgText:function(){$(".copy-msg").removeClass("show")},setupClosePopupBtn:function(){var t=$(".popup-area .btn-close");t.length>0&&t.off("click").on("click",function(){e.hidePopup(),_hiddenPopup.val(""),contactSupport.pushParams()})}};return e}(),contactSupport=function(){"use strict";var e={restorePageStatus:function(t){var n=$.Deferred();return productSection.addProductListPadding(),productSection.familyIconClick(_productListFirstMainContainer),t&&(_productListFirstMainContainer.find(".detail-item").remove(),carrierSection.hideCarrierSection(),problemSection.hideProblemListSection(),contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),contentSection.hidePopup()),""!==_hiddenFamily.val()?(productSection.revmoveProductListPadding(),productSection.highlineFamilyIconSelected(),productSection.showProductListSection(),productSection.expandProductList(_productListFirstMainContainer,_hiddenFamily.val(),function(t){productSection.productIconClick(_productListFirstMainContainer),productSection.setupCloseProductListForMobile(_productListFirstMainContainer),""!==_hiddenIndex.val()?(productSection.activeDetailItem(),contentSection.hideMoreHelpSection(),contentSection.hideContentAbstractSection(),problemSection.hideProblemListSection(),productSection.highlineProductIconSelected(),carrierSection.expandCarrierlist(),_carrierExisted&&(carrierSection.carrierNameClick(),carrierSection.showCarrierSection()),""!==_hiddenProduct.val()?(carrierSection.highlineCarrierNameSelected(),problemSection.callProblemList(_hiddenProduct.val(),function(){problemSection.updateProductName(_selectedProductName),problemSection.categoryIconClick(_problemListFirstMainContainer),problemSection.showProblemListSection(),""!==_hiddenCategory.val()?"0"===_hiddenCategory.val()?(commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile(),contentSection.resetEmailIconClick(_selectedProductName,_selectedCategoryName)),contentSection.highlineContentBlockSelected(),contentSection.showMoreHelpSection(),n.resolve()):problemSection.expandContentList(_problemListFirstMainContainer,_hiddenCategory.val(),function(t){problemSection.highlineCategoryIconSelected(),problemSection.singleContentClick(_problemListFirstMainContainer),problemSection.setupCloseContentListForMobile(_problemListFirstMainContainer),problemSection.updateMobileTitleProductName(_selectedProductName),contentSection.resetEmailIconClick(_selectedProductName,_selectedCategoryName),problemSection.setupNeedMoreHelpClick(),""!==_hiddenContent.val()?(problemSection.activeDetailItem(),contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),"0"===_hiddenContent.val()||"-1"===_hiddenContent.val()?(contentSection.highlineContentBlockSelected(),contentSection.showMoreHelpSection(),n.resolve()):contentSection.updateAbstractContent(_hiddenContent.val(),function(){contentSection.highlineContentBlockSelected(),contentSection.buildSingleContentTitle(_selectedContentTitle),contentSection.hideCopiedMsgText(),contentSection.buildSingleContentShortLink(),contentSection.abstractContentClick(),contentSection.showContentAbstractSection(),""!==_hiddenPopup.val()?contentSection.popupSingleContent():n.resolve()})):n.resolve()}):commonSetting.isMobile()?(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile(),problemSection.setupNeedMoreHelpClick(),n.resolve()):problemSection.triggerFirstCategoryClick()})):(commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),n.resolve())):n.resolve()})):(t&&productSection.removeFamilyIconHighline(),n.resolve()),n.promise()},setupClickStatus:function(){var t=$.Deferred();return""!==_hiddenPopup.val()?(contentSection.popupSingleContent(),t.resolve()):""!==_hiddenContent.val()?(contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),"0"===_hiddenContent.val()||"-1"===_hiddenContent.val()?(commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),_jumpToLastSection||contentSection.highlineContentBlockSelected(),contentSection.resetEmailIconClick(_selectedProductName,_selectedCategoryName),contentSection.showMoreHelpSection(),t.resolve()):contentSection.updateAbstractContent(_hiddenContent.val(),function(){contentSection.highlineContentBlockSelected(),contentSection.buildSingleContentTitle(_selectedContentTitle),contentSection.hideCopiedMsgText(),contentSection.buildSingleContentShortLink(),contentSection.abstractContentClick(),contentSection.showContentAbstractSection(),t.resolve()})):""!==_hiddenCategory.val()?problemSection.expandContentList(_problemListFirstMainContainer,_hiddenCategory.val(),function(e){contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),problemSection.highlineCategoryIconSelected(),problemSection.unselectSingleContent(),productSection.highlineProductIconSelected(),carrierSection.highlineCarrierNameSelected(),problemSection.updateProductName(_selectedProductName),problemSection.singleContentClick(_problemListFirstMainContainer),problemSection.setupCloseContentListForMobile(_problemListFirstMainContainer),problemSection.updateMobileTitleProductName(_selectedProductName),contentSection.resetEmailIconClick(_selectedProductName,_selectedCategoryName),problemSection.setupNeedMoreHelpClick(),t.resolve()}):""!==_hiddenProduct.val()?(contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),carrierSection.highlineCarrierNameSelected(),problemSection.callProblemList(_hiddenProduct.val(),function(){problemSection.updateProductName(_selectedProductName),problemSection.categoryIconClick(_problemListFirstMainContainer),problemSection.showProblemListSection(),commonSetting.isMobile()?(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile(),problemSection.setupNeedMoreHelpClick(),t.resolve()):problemSection.triggerFirstCategoryClick()})):""!==_hiddenIndex.val()?(contentSection.hideMoreHelpSection(),contentSection.hideContentAbstractSection(),problemSection.hideProblemListSection(),productSection.highlineProductIconSelected(),carrierSection.expandCarrierlist(),carrierSection.carrierNameClick(),commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),_carrierExisted&&(carrierSection.carrierNameClick(),carrierSection.showCarrierSection()),t.resolve()):""!==_hiddenFamily.val()?(carrierSection.hideCarrierSection(),problemSection.hideProblemListSection(),contentSection.hideContentAbstractSection(),contentSection.hideMoreHelpSection(),productSection.revmoveProductListPadding(),productSection.highlineFamilyIconSelected(),productSection.showProductListSection(),productSection.expandProductList(_productListFirstMainContainer,_hiddenFamily.val(),function(e){productSection.productIconClick(_productListFirstMainContainer),productSection.setupCloseProductListForMobile(_productListFirstMainContainer),t.resolve()})):commonSetting.isMobile()&&(productSection.removeFamilyIconHighline(),commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),t.promise()},expandSecondLevelList:function(t,n,i,o){var c=n.find(".detail-item");_productListDetailItemHeight=0,commonSetting.isMobile()&&(commonSetting.removeMobilePopupFix(),e.removeDetailItemForMobile()),c.length>0?(_productListDetailItemHeight=c.height(),c.css("height",_productListDetailItemHeight).removeClass("active").html("")):c=$('<div class="detail-item"></div>'),n.find(".product-item").each(function(t,r){var d="family";if(n.parents("section").hasClass("problem-listing")&&(d="category"),$(this).data(d)===i){var a=$(this),l=t,s=e.appendAfterItem(l,n),p='<div class="related-product-group"><div class="btn-close"></div><div class="popup-title m-popup-title">'+$(".hidden-select-product-model").val()+"</div>"+$(this).find(".related-products").html()+"</div>";n.parents("section").hasClass("problem-listing")&&(p='<div class="related-product-group related-problem-group"><div class="btn-close"></div><div class="popup-title m-popup-title">'+$(".hidden-select-your-issue").val()+"</div>"+$(this).find(".related-products").html()+"</div>"),void 0===s?c.append(p).insertAfter(n.find(".product-item").last()):c.append(p).insertAfter(n.find(".product-item").eq(s)),commonSetting.isMobile()?((n.parents("section").hasClass("product-listing")&&""===_hiddenProduct.val()||n.parents("section").hasClass("problem-listing")&&""===_hiddenContent.val())&&commonSetting.addMobilePopupFix(),o(a)):(setTimeout(function(){commonSetting.addMobilePopupFix()},0),o(a))}})},scrollToLastSection:function(t){if($("section.showed").length>0){var n,i=$("section.showed").last();n=i.hasClass("product-listing")?i.find(".title h4"):i,e.screenScroll(i,n)}},screenScroll:function(e,t,n){var i,o=null,c=$(t).offset().top-70;i=new TimelineLite,e.hasClass("product-listing")||e.hasClass("problem-listing")?(o=e.find(".detail-item"),commonSetting.isMobile()||(i.add(TweenLite.set(o,{height:"auto"})),i.add(TweenLite.from(o,.5,{height:_productListDetailItemHeight}))),i.to(window,.5,{scrollTo:{y:c}},"-=0.45"),i.call(function(){o.addClass("active")},[],this,"-=0.40"),setTimeout(function(){i.play()},100)):setTimeout(function(){$("html, body").animate({scrollTop:c},500)},250)},itemsInRow:function(e){var t=0;return e.find(".product-item").each(function(){if($(this).prev().length>0){if($(this).position().top!==$(this).prev().position().top)return!1;t++}else t++}),t},detectAlignStart:function(t){e.itemsInRow(t),t.find(".product-item").length;t.removeClass("align-start")},appendAfterItem:function(t,n){for(var i=e.itemsInRow(n),o=1,c=i;c<n.find(".product-item").length;c+=i){if(t<c)return c-1;o+=1}},initObj:function(){_hiddenFamily=$(".hidden-seleted-family"),_hiddenIndex=$(".hidden-seleted-index"),_hiddenProduct=$(".hidden-seleted-product"),_hiddenCategory=$(".hidden-seleted-category"),_hiddenContent=$(".hidden-seleted-content"),_hiddenPopup=$(".hidden-seleted-popup"),_productListFirstMainContainer=$(".product-listing .flex-box-area"),_productListFirstLevelItems=_productListFirstMainContainer.find("div.product-item"),_problemListTitleContainer=$(".problem-listing .title"),_problemListFirstMainContainer=$(".problem-listing .flex-box-area"),_carrierListContainer=$(".carrier-listing .carrier-list-container")},updateHiddenInput:function(t){var n=$.url(),i=n.param("family"),o=n.param("index"),c=n.param("product"),r=n.param("categoryid"),d=n.param("content"),a=n.param("popup");e.initObj(),_hiddenFamily.val(""),_hiddenIndex.val(""),_hiddenProduct.val(""),_hiddenCategory.val(""),_hiddenContent.val(""),_hiddenPopup.val(""),void 0!==i&&(_hiddenFamily.val(i),void 0!==o&&_hiddenIndex.val(o),void 0!==c&&(_hiddenProduct.val(c),void 0!==r&&(_hiddenCategory.val(r),void 0!==d&&(_hiddenContent.val(d),void 0!==a&&_hiddenPopup.val(a))))),t()},pushParams:function(e){var t=_hiddenFamily.val(),n=_hiddenIndex.val(),i=_hiddenProduct.val(),o=_hiddenCategory.val(),c=_hiddenContent.val(),r=_hiddenPopup.val(),d="";void 0!==t&&t.length>0&&(d+="&family="+t),void 0!==n&&n.length>0&&(d+="&index="+n),void 0!==i&&i.length>0&&(d+="&product="+i),void 0!==o&&o.length>0&&(d+="&categoryid="+o),void 0!==c&&c.length>0&&(d+="&content="+c),void 0!==r&&r.length>0&&(d+="&popup="+r),void 0===e?History.pushState({rand:Math.random(),family:t,product:i,category:o,content:c},document.title,"?"+d):History.replaceState({rand:Math.random(),family:t,product:i,category:o,content:c},document.title,"?"+d)},removeDetailItemForMobile:function(){commonSetting.isMobile()&&$(".detail-item").remove()}};return e}();$(document).ready(function(){"use strict";contactSupport.updateHiddenInput(function(){$.when(contactSupport.restorePageStatus(!1)).then(function(){contactSupport.scrollToLastSection()})})}),$(window).bind("popstate",function(e){"use strict";void 0!==e.originalEvent?contactSupport.updateHiddenInput(function(){$.when(contactSupport.restorePageStatus(!0)).then(function(){contactSupport.scrollToLastSection()})}):contactSupport.updateHiddenInput(function(){$.when(contactSupport.setupClickStatus()).then(function(){contactSupport.scrollToLastSection()})})}),$(window).resize(function(){"use strict";commonSetting.forcePageReload()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRhY3Qtc3VwcG9ydC5qcyJdLCJuYW1lcyI6WyJfaGlkZGVuRmFtaWx5IiwiX2hpZGRlbkluZGV4IiwiX2hpZGRlblByb2R1Y3QiLCJfaGlkZGVuQ2F0ZWdvcnkiLCJfaGlkZGVuQ29udGVudCIsIl9oaWRkZW5Qb3B1cCIsIl9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lciIsIl9wcm9kdWN0TGlzdEZpcnN0TGV2ZWxJdGVtcyIsIl9wcm9ibGVtTGlzdFRpdGxlQ29udGFpbmVyIiwiX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyIiwiX2NhcnJpZXJMaXN0Q29udGFpbmVyIiwiX3Byb2R1Y3RMaXN0RGV0YWlsSXRlbUhlaWdodCIsIl9zZWxlY3RlZFByb2R1Y3ROYW1lIiwiX3NlbGVjdGVkQ2F0ZWdvcnlOYW1lIiwiX3NlbGVjdGVkQ29udGVudFRpdGxlIiwiX2NhcnJpZXJFeGlzdGVkIiwiX2p1bXBUb0xhc3RTZWN0aW9uIiwicHJvZHVjdFNlY3Rpb24iLCJhY3RpdmVEZXRhaWxJdGVtIiwiZmluZCIsImFkZENsYXNzIiwicmVtb3ZlRmFtaWx5SWNvbkhpZ2hsaW5lIiwicmVtb3ZlQ2xhc3MiLCJoaWdobGluZUZhbWlseUljb25TZWxlY3RlZCIsInZhbCIsInJlbW92ZVByb2R1Y3RJY29uSGlnaGxpbmUiLCJoaWdobGluZVByb2R1Y3RJY29uU2VsZWN0ZWQiLCJzZWxlY3RlZFByb2R1Y3RHcm91cCIsInByb2R1Y3RJdGVtc0luRGV0YWlsIiwiZmlsdGVyIiwibGVuZ3RoIiwidGV4dCIsImFkZFByb2R1Y3RMaXN0UGFkZGluZyIsInJldm1vdmVQcm9kdWN0TGlzdFBhZGRpbmciLCJjb21tb25TZXR0aW5nIiwiaXNNb2JpbGUiLCJmYW1pbHlJY29uQ2xpY2siLCJwYXJlbnRFbGVtZW50Iiwib2ZmIiwib24iLCJldmVudCIsImNhbkNsaWNrIiwiJCIsInRoaXMiLCJoYXNDbGFzcyIsImRhdGEiLCJjb250YWN0U3VwcG9ydCIsInB1c2hQYXJhbXMiLCJleHBhbmRQcm9kdWN0TGlzdCIsImZhbWlseVZhbHVlIiwiY2FsbGJhY2siLCJleHBhbmRTZWNvbmRMZXZlbExpc3QiLCJjdXJyZW50SXRlbSIsInNldHVwQ2xvc2VQcm9kdWN0TGlzdEZvck1vYmlsZSIsInNob3dQcm9kdWN0TGlzdFNlY3Rpb24iLCJwcm9kdWN0SWNvbkNsaWNrIiwicHJvZHVjdEl0ZW1zIiwicG5hbWVJZCIsImNhcnJpZXJTZWN0aW9uIiwiaGlkZUNhcnJpZXJTZWN0aW9uIiwiaGlnaGxpbmVDYXJyaWVyTmFtZVNlbGVjdGVkIiwic2VsZWN0ZWRDYXJyaWVyTGlJdGVtIiwic2hvd0NhcnJpZXJTZWN0aW9uIiwiZXhwYW5kQ2Fycmllcmxpc3QiLCJzZWxlY3RlZENhcnJpZXJMaXN0IiwidXBkYXRlQ2FycmllckNvbnRhaW5lciIsImNsb25lIiwiY2Fycmllck5hbWVDbGljayIsImlucHV0TGlzdCIsInN0eWxlTGVzc1RoYW4zSXRlbXMiLCJodG1sIiwicHJvYmxlbVNlY3Rpb24iLCJoaWdobGluZUNhdGVnb3J5SWNvblNlbGVjdGVkIiwiY2F0ZWdvcnlJdGVtIiwic2hvd1Byb2JsZW1MaXN0U2VjdGlvbiIsImhpZGVQcm9ibGVtTGlzdFNlY3Rpb24iLCJjYWxsUHJvYmxlbUxpc3QiLCJwcm9kdWN0TmFtZUlkIiwicmVxdWVzdCIsInJlc3VsdENvbnRhaW5lciIsImNhbGxsVXJsIiwiaXNQcm90b3R5cGVIb3N0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGFUeXBlIiwiYmVmb3JlU2VuZCIsInhociIsImRvbmUiLCJsaW5lSXRlbSIsInByb2JsZW1BcnJheSIsInJlc3VsdERhdGEiLCJhcHBlbmQiLCJ0bXBsIiwiZmFpbCIsImpxWEhSIiwidGV4dFN0YXR1cyIsImNhdGVnb3J5SWNvbkNsaWNrIiwiY2F0ZWdvcnlWYWx1ZSIsInVuZGVmaW5lZCIsIm9yaWdpbmFsRXZlbnQiLCJ1bnNlbGVjdFNpbmdsZUNvbnRlbnQiLCJzZXR1cENsb3NlQ29udGVudExpc3RGb3JNb2JpbGUiLCJleHBhbmRDb250ZW50TGlzdCIsInNpbmdsZUNvbnRlbnRDbGljayIsImNvbnRlbnRJdGVtcyIsImNvbnRlbnRJZCIsInRyaWdnZXJGaXJzdENhdGVnb3J5Q2xpY2siLCJlcSIsInRyaWdnZXIiLCJzZXR1cE5lZWRNb3JlSGVscENsaWNrIiwidXBkYXRlUHJvZHVjdE5hbWUiLCJwcm9kdWN0TmFtZSIsInVwZGF0ZU1vYmlsZVRpdGxlUHJvZHVjdE5hbWUiLCJ0aXRsZURpdiIsImNvbnRlbnRTZWN0aW9uIiwicmVzZXRFbWFpbEljb25DbGljayIsImNhdGVnb3J5TmFtZSIsInByZXZlbnREZWZhdWx0IiwibmV3TGluayIsImF0dHIiLCJsb2NhdGlvbiIsImhyZWYiLCJoaWdobGluZUNvbnRlbnRCbG9ja1NlbGVjdGVkIiwic2VsZWN0ZWRDb250ZW50Iiwic2hvd01vcmVIZWxwU2VjdGlvbiIsImhpZGVNb3JlSGVscFNlY3Rpb24iLCJzaG93Q29udGVudEFic3RyYWN0U2VjdGlvbiIsImhpZGVDb250ZW50QWJzdHJhY3RTZWN0aW9uIiwic2hvd1BvcHVwIiwic2Nyb2xsVG9wIiwiaGlkZVBvcHVwIiwiYWJzdHJhY3RDb250ZW50Q2xpY2siLCJ1cGRhdGVBYnN0cmFjdENvbnRlbnQiLCJjYWxsU2luZ2xlQ29udGVudCIsInBvcHVwU2luZ2xlQ29udGVudCIsInNldHVwQ2xvc2VQb3B1cEJ0biIsImNvbnRlbnQiLCJidWlsZEFic3RyYWN0Q29udGVudCIsImZ1bGxDb250ZW50IiwidGVtcERpdiIsImFic3RyYWN0Q29udGVudCIsInN1YnN0cmluZyIsImJ1aWxkU2luZ2xlQ29udGVudFRpdGxlIiwidGl0bGUiLCJidWlsZFNpbmdsZUNvbnRlbnRTaG9ydExpbmsiLCJwcm90b2NvbCIsImhvc3QiLCJDbGlwYm9hcmQiLCJlIiwiY2xlYXJTZWxlY3Rpb24iLCJoaWRlQ29waWVkTXNnVGV4dCIsImNsb3NlQnRuIiwicmVzdG9yZVBhZ2VTdGF0dXMiLCJjYWxsRnJvbU5hdmlnYXRpb24iLCJkZWZlcnJlZCIsIkRlZmVycmVkIiwicmVtb3ZlIiwicmVtb3ZlTW9iaWxlUG9wdXBGaXgiLCJyZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlIiwicmVzb2x2ZSIsInByb21pc2UiLCJzZXR1cENsaWNrU3RhdHVzIiwic2xpZGVBbmltYXRpb24iLCJmaWx0ZXJWYWx1ZSIsImRldGFpbEl0ZW1zQ29udGFpbmVyIiwiaGVpZ2h0IiwiY3NzIiwiZWFjaCIsImluZGV4IiwiZWwiLCJmaWx0ZXJDbGFzcyIsInBhcmVudHMiLCJjdXJyZW50SW5kZXgiLCJhcHBlbmRJdGVtSW5kZXgiLCJhcHBlbmRBZnRlckl0ZW0iLCJhcHBlbmRIdG1sIiwiaW5zZXJ0QWZ0ZXIiLCJsYXN0IiwiYWRkTW9iaWxlUG9wdXBGaXgiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsVG9MYXN0U2VjdGlvbiIsIndhaXRVbnRpbExvYWQiLCJzY3JvbGxJdGVtIiwic2VjdGlvbkl0ZW0iLCJzY3JlZW5TY3JvbGwiLCJ0aW1lTGluZU9iaiIsIiRkZXRhaWxJdGVtIiwic2Nyb2xsSGVpZ2h0UG9zaXRpb24iLCJvZmZzZXQiLCJ0b3AiLCJUaW1lbGluZUxpdGUiLCJhZGQiLCJUd2VlbkxpdGUiLCJzZXQiLCJmcm9tIiwidG8iLCJ3aW5kb3ciLCJzY3JvbGxUbyIsInkiLCJjYWxsIiwicGxheSIsImFuaW1hdGUiLCJpdGVtc0luUm93IiwibGlzSW5Sb3ciLCJwcmV2IiwicG9zaXRpb24iLCJkZXRlY3RBbGlnblN0YXJ0IiwiaWR4IiwiaXRlbXNFdmVyeVJvdyIsInJlc3VsdFJvdyIsImkiLCJpbml0T2JqIiwidXBkYXRlSGlkZGVuSW5wdXQiLCJwYXJhbUZhbWlseSIsInBhcmFtIiwicGFyYW1JbmRleCIsInBhcmFtUHJvZHVjdCIsInBhcmFtQ2F0ZWdvcnkiLCJwYXJhbUNvbnRlbnQiLCJwYXJhbVBvcHVwIiwiaXNQdXNoIiwic2VsZWN0ZWRGYW1pbHkiLCJzZWxlY3RlZEluZGV4Iiwic2VsZWN0ZWRQcm9kdWN0Iiwic2VsZWN0ZWRDYXRlZ29yeSIsInNlbGVjdGVkUG9wdXAiLCJ1cmxQYXRoIiwiSGlzdG9yeSIsInB1c2hTdGF0ZSIsInJhbmQiLCJNYXRoIiwicmFuZG9tIiwiZmFtaWx5IiwicHJvZHVjdCIsImNhdGVnb3J5IiwiZG9jdW1lbnQiLCJyZXBsYWNlU3RhdGUiLCJyZWFkeSIsIndoZW4iLCJ0aGVuIiwiYmluZCIsInJlc2l6ZSIsImZvcmNlUGFnZVJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsZUFDQUMsYUFDQUMsZUFDQUMsZ0JBQ0FDLGVBQ0FDLGFBQ0FDLCtCQUNBQyw0QkFDQUMsMkJBQ0FDLCtCQUNBQyxzQkFDQUMsNkJBQStCLEVBQy9CQyxxQkFBdUIsR0FDdkJDLHNCQUF3QixHQUN4QkMsc0JBQ0FDLGdCQUNBQyxtQkFDQUMsZUFBa0IsV0FDbEIsWUFDQSxJQUFJQSxJQUNBQyxpQkFBa0IsV0FDZFosK0JBQStCYSxLQUFLLGdCQUFnQkMsU0FBUyxXQUVqRUMseUJBQTBCLFdBQ3RCZiwrQkFBK0JhLEtBQUssaUJBQWlCRyxZQUFZLGFBRXJFQywyQkFBNEIsV0FDeEJOLEVBQWVJLDJCQUNmZiwrQkFBK0JhLEtBQUssOEJBQWdDbkIsY0FBY3dCLE1BQVEsTUFBTUosU0FBUyxhQUU3R0ssMEJBQTJCLFdBQ0luQiwrQkFBK0JhLEtBQUssc0NBRTFDRyxZQUFZLGFBRXJDSSw0QkFBNkIsV0FDekIsR0FDSUMsR0FEQUMsRUFBdUJ0QiwrQkFBK0JhLEtBQUsscUNBRy9ERixHQUFlUSw0QkFDZkUsRUFBdUJDLEVBQXFCQyxPQUFPLGdCQUFrQjVCLGFBQWF1QixNQUFRLE1BQ3RGRyxFQUFxQkcsT0FBUyxJQUU5QkgsRUFBcUJQLFNBQVMsWUFJOUJSLHFCQUF1QmUsRUFBcUJSLEtBQUssaUJBQWlCWSxTQUcxRUMsc0JBQXVCLFdBQ25CMUIsK0JBQStCYyxTQUFTLGdCQUU1Q2EsMEJBQTJCLFdBQ2xCQyxjQUFjQyxZQUNmN0IsK0JBQStCZ0IsWUFBWSxnQkFJbkRjLGdCQUFpQixTQUFTQyxHQUN0QkEsRUFBY2xC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QUFRNEMsS0FBSyxXQUFZLFNBQVM1RixHQUNoQyxpQkFDK0IsS0FBcEJBLEVBQUVqRCxjQUVUdkQsZUFBZXdLLGtCQUFrQixXQUM3QjVLLEVBQUVzTSxLQUFLbE0sZUFBZTRHLG1CQUFrQixJQUFPdUYsS0FBSyxXQUNoRG5NLGVBQWV3SSwwQkFJdkJ4SSxlQUFld0ssa0JBQWtCLFdBQzdCNUssRUFBRXNNLEtBQUtsTSxlQUFlcUgsb0JBQW9COEUsS0FBSyxXQUMzQ25NLGVBQWV3SSw0QkFLL0I1SSxFQUFFNEosUUFBUTZDLE9BQU8sV0FDYixZQUNBak4sZUFBY2tOIiwiZmlsZSI6ImNvbnRhY3Qtc3VwcG9ydC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qZ2xvYmFsIHRtcGwsIGNvbW1vblNldHRpbmcsIEhpc3RvcnksIENsaXBib2FyZCwgVGltZWxpbmVMaXRlLCBUd2VlbkxpdGUqL1xudmFyIF9oaWRkZW5GYW1pbHksXG4gICAgX2hpZGRlbkluZGV4LFxuICAgIF9oaWRkZW5Qcm9kdWN0LFxuICAgIF9oaWRkZW5DYXRlZ29yeSxcbiAgICBfaGlkZGVuQ29udGVudCxcbiAgICBfaGlkZGVuUG9wdXAsXG4gICAgX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyLFxuICAgIF9wcm9kdWN0TGlzdEZpcnN0TGV2ZWxJdGVtcyxcbiAgICBfcHJvYmxlbUxpc3RUaXRsZUNvbnRhaW5lcixcbiAgICBfcHJvYmxlbUxpc3RGaXJzdE1haW5Db250YWluZXIsXG4gICAgX2NhcnJpZXJMaXN0Q29udGFpbmVyLFxuICAgIF9wcm9kdWN0TGlzdERldGFpbEl0ZW1IZWlnaHQgPSAwLFxuICAgIF9zZWxlY3RlZFByb2R1Y3ROYW1lID0gJycsXG4gICAgX3NlbGVjdGVkQ2F0ZWdvcnlOYW1lID0gJycsXG4gICAgX3NlbGVjdGVkQ29udGVudFRpdGxlLFxuICAgIF9jYXJyaWVyRXhpc3RlZCxcbiAgICBfanVtcFRvTGFzdFNlY3Rpb247XG52YXIgcHJvZHVjdFNlY3Rpb24gPSAoZnVuY3Rpb24oKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHZhciBwcm9kdWN0U2VjdGlvbiA9IHtcbiAgICAgICAgYWN0aXZlRGV0YWlsSXRlbTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIuZmluZCgnLmRldGFpbC1pdGVtJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVGYW1pbHlJY29uSGlnaGxpbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJy5wcm9kdWN0LWl0ZW0nKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpbmVGYW1pbHlJY29uU2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24ucmVtb3ZlRmFtaWx5SWNvbkhpZ2hsaW5lKCk7XG4gICAgICAgICAgICBfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIuZmluZCgnLnByb2R1Y3QtaXRlbVtkYXRhLWZhbWlseT1cIicgKyBfaGlkZGVuRmFtaWx5LnZhbCgpICsgJ1wiXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmVQcm9kdWN0SWNvbkhpZ2hsaW5lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBwcm9kdWN0SXRlbXNJbkRldGFpbCA9IF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcuZGV0YWlsLWl0ZW0gLnJlbGF0ZWQtcHJvZHVjdC1pdGVtJyk7XG4gICAgICAgICAgICAvL3JlbW92ZSBzZWxlY3RlZCBjbGFzcyBmb3IgYWxsIHByb2R1Y3QgbGlzdFxuICAgICAgICAgICAgcHJvZHVjdEl0ZW1zSW5EZXRhaWwucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaW5lUHJvZHVjdEljb25TZWxlY3RlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdEl0ZW1zSW5EZXRhaWwgPSBfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIuZmluZCgnLmRldGFpbC1pdGVtIC5yZWxhdGVkLXByb2R1Y3QtaXRlbScpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvZHVjdEdyb3VwO1xuICAgICAgICAgICAgLy9yZW1vdmUgc2VsZWN0ZWQgY2xhc3MgZm9yIGFsbCBwcm9kdWN0IGxpc3RcbiAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLnJlbW92ZVByb2R1Y3RJY29uSGlnaGxpbmUoKTtcbiAgICAgICAgICAgIHNlbGVjdGVkUHJvZHVjdEdyb3VwID0gcHJvZHVjdEl0ZW1zSW5EZXRhaWwuZmlsdGVyKCdbZGF0YS1wbmFtZT1cIicgKyBfaGlkZGVuSW5kZXgudmFsKCkgKyAnXCJdJyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0R3JvdXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vYWRkIHNlZWxjdGVkIGNsYXNzIHRvIGEgc3BlY2lmaWMgcHJvZHVjdFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUHJvZHVjdEdyb3VwLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHNlbGVjdGVkIGNsYXNzIGZvciBhbGwgY2FycmllciBsaXN0XG4gICAgICAgICAgICAgICAgLy9zZWxlY3RlZFByb2R1Y3RHcm91cC5maW5kKCcuaGlkZGVuLWNhcnJpZXItYmxvY2sgbGknKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAvL2dldCBwcm9kdWN0IG5hbWVcbiAgICAgICAgICAgICAgICBfc2VsZWN0ZWRQcm9kdWN0TmFtZSA9IHNlbGVjdGVkUHJvZHVjdEdyb3VwLmZpbmQoJy5wcm9kdWN0LW5hbWUnKS50ZXh0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFByb2R1Y3RMaXN0UGFkZGluZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIuYWRkQ2xhc3MoJ2FkZC1wYWRkaW5nJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHJldm1vdmVQcm9kdWN0TGlzdFBhZGRpbmc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCFjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICBfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIucmVtb3ZlQ2xhc3MoJ2FkZC1wYWRkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tRmFtaWx5LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgICAgZmFtaWx5SWNvbkNsaWNrOiBmdW5jdGlvbihwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJ2Rpdi5wcm9kdWN0LWl0ZW0nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgdmFyIGNhbkNsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYW5DbGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5DbGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgaGlkZGVuIGlucHV0XG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5Qb3B1cC52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ29udGVudC52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ2F0ZWdvcnkudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlblByb2R1Y3QudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkluZGV4LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5GYW1pbHkudmFsKCQodGhpcykuZGF0YSgnZmFtaWx5JykpO1xuICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGV4cGFuZFByb2R1Y3RMaXN0OiBmdW5jdGlvbihwYXJlbnRFbGVtZW50LCBmYW1pbHlWYWx1ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LmV4cGFuZFNlY29uZExldmVsTGlzdCh0cnVlLCBwYXJlbnRFbGVtZW50LCBmYW1pbHlWYWx1ZSwgZnVuY3Rpb24oY3VycmVudEl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjdXJyZW50SXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBDbG9zZVByb2R1Y3RMaXN0Rm9yTW9iaWxlOiBmdW5jdGlvbihwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgY2xvc2VCdG4gPSBwYXJlbnRFbGVtZW50LmZpbmQoJy5kZXRhaWwtaXRlbSAuYnRuLWNsb3NlJyk7XG4gICAgICAgICAgICBjbG9zZUJ0bi5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2hpZGRlblBvcHVwLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgX2hpZGRlbkNvbnRlbnQudmFsKCcnKTtcbiAgICAgICAgICAgICAgICBfaGlkZGVuQ2F0ZWdvcnkudmFsKCcnKTtcbiAgICAgICAgICAgICAgICBfaGlkZGVuUHJvZHVjdC52YWwoJycpO1xuICAgICAgICAgICAgICAgIF9oaWRkZW5GYW1pbHkudmFsKCcnKTtcbiAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1Qcm9kdWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbiAgICAgICAgc2hvd1Byb2R1Y3RMaXN0U2VjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvL25vIGNzcyBzdHlsZSwgb25seSBmb3Igc2Nyb2xsIHRvIHRoaXMgc2VjdGlvblxuICAgICAgICAgICAgJCgnLnByb2R1Y3QtbGlzdGluZycpLmFkZENsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgcHJvZHVjdEljb25DbGljazogZnVuY3Rpb24ocGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHByb2R1Y3RJdGVtcyA9IHBhcmVudEVsZW1lbnQuZmluZCgnLnJlbGF0ZWQtcHJvZHVjdC1pdGVtJyksXG4gICAgICAgICAgICAgICAgZGV0YWlsSXRlbSA9IHBhcmVudEVsZW1lbnQuZmluZCgnLmRldGFpbC1pdGVtJyk7XG4gICAgICAgICAgICBpZiAocHJvZHVjdEl0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHByb2R1Y3RJdGVtcy5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbmFtZUlkID0gJCh0aGlzKS5kYXRhKCdwbmFtZS1pZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBuYW1lSWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBObyBjYXJyaWVyIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKipGb3IgYWNjZXNzb3J5KiovXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0SXRlbXMucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NlbGVjdGVkUHJvZHVjdE5hbWUgPSAkKHRoaXMpLmZpbmQoJy5wcm9kdWN0LW5hbWUnKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKioqKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcnJpZXJTZWN0aW9uLmhpZGVDYXJyaWVyU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGRlblBvcHVwLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ29udGVudC52YWwoJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkNhdGVnb3J5LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuSW5kZXgudmFsKCQodGhpcykuZGF0YSgncG5hbWUnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuUHJvZHVjdC52YWwocG5hbWVJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBIYXMgY2FycmllciBzZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRkZW5Db250ZW50LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ2F0ZWdvcnkudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRkZW5Qcm9kdWN0LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuSW5kZXgudmFsKCQodGhpcykuZGF0YSgncG5hbWUnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHByb2R1Y3RTZWN0aW9uO1xufSgpKTtcbnZhciBjYXJyaWVyU2VjdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNhcnJpZXJTZWN0aW9uID0ge1xuICAgICAgICBoaWdobGluZUNhcnJpZXJOYW1lU2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKF9jYXJyaWVyTGlzdENvbnRhaW5lci5maW5kKCdsaScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRDYXJyaWVyTGlJdGVtID0gX2NhcnJpZXJMaXN0Q29udGFpbmVyLmZpbmQoJ2xpJykuZmlsdGVyKCdbZGF0YS1wbmFtZS1pZD1cIicgKyBfaGlkZGVuUHJvZHVjdC52YWwoKSArICdcIl0nKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDYXJyaWVyTGlJdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXJyaWVyTGlJdGVtLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICBfc2VsZWN0ZWRQcm9kdWN0TmFtZSA9IHNlbGVjdGVkQ2FycmllckxpSXRlbS5kYXRhKCdwbmFtZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2hvd0NhcnJpZXJTZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5jYXJyaWVyLWxpc3RpbmcnKS5hZGRDbGFzcygnc2hvd2VkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVDYXJyaWVyU2VjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuY2Fycmllci1saXN0aW5nJykucmVtb3ZlQ2xhc3MoJ3Nob3dlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBleHBhbmRDYXJyaWVybGlzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvL1Nob3cgY2FycmllclxuICAgICAgICAgICAgX2NhcnJpZXJFeGlzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcHJvZHVjdEl0ZW1zID0gX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJy5wcm9kdWN0LWl0ZW0uc2VsZWN0ZWQgLnJlbGF0ZWQtcHJvZHVjdC1pdGVtJyksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRQcm9kdWN0R3JvdXAgPSBwcm9kdWN0SXRlbXMuZmlsdGVyKCdbZGF0YS1wbmFtZT1cIicgKyBfaGlkZGVuSW5kZXgudmFsKCkgKyAnXCJdJyksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDYXJyaWVyTGlzdCA9IHNlbGVjdGVkUHJvZHVjdEdyb3VwLmZpbmQoJy5oaWRkZW4tY2Fycmllci1ibG9jaycpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2Fycmllckxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNhcnJpZXJTZWN0aW9uLnVwZGF0ZUNhcnJpZXJDb250YWluZXIoc2VsZWN0ZWRDYXJyaWVyTGlzdC5jbG9uZSgpKTtcbiAgICAgICAgICAgICAgICBfY2FycmllckV4aXN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjYXJyaWVyTmFtZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIF9jYXJyaWVyTGlzdENvbnRhaW5lci5maW5kKCdsaScpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgcG5hbWVJZCA9ICQodGhpcykuZGF0YSgncG5hbWUtaWQnKTtcbiAgICAgICAgICAgICAgICBfY2Fycmllckxpc3RDb250YWluZXIuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIF9oaWRkZW5Db250ZW50LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgX2hpZGRlbkNhdGVnb3J5LnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgX2hpZGRlblByb2R1Y3QudmFsKHBuYW1lSWQpO1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnB1c2hQYXJhbXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVDYXJyaWVyQ29udGFpbmVyOiBmdW5jdGlvbihpbnB1dExpc3QpIHtcbiAgICAgICAgICAgIHZhciBzdHlsZUxlc3NUaGFuM0l0ZW1zID0gJyc7XG4gICAgICAgICAgICBpZiAoaW5wdXRMaXN0LmZpbmQoJ2xpJykubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHN0eWxlTGVzc1RoYW4zSXRlbXMgPSAnbGVzcy10aGFuLTMtaXRlbXMnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXRMaXN0LmZpbmQoJ2xpJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBpbnB1dExpc3QuZmluZCgndWwnKS5hZGRDbGFzcyhzdHlsZUxlc3NUaGFuM0l0ZW1zKTtcbiAgICAgICAgICAgIF9jYXJyaWVyTGlzdENvbnRhaW5lci5odG1sKGlucHV0TGlzdC5odG1sKCkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gY2FycmllclNlY3Rpb247XG59KCkpO1xudmFyIHByb2JsZW1TZWN0aW9uID0gKGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICB2YXIgcHJvYmxlbVNlY3Rpb24gPSB7XG4gICAgICAgIGFjdGl2ZURldGFpbEl0ZW06IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJy5kZXRhaWwtaXRlbScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlnaGxpbmVDYXRlZ29yeUljb25TZWxlY3RlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfcHJvYmxlbUxpc3RGaXJzdE1haW5Db250YWluZXIuZmluZCgnLnByb2R1Y3QtaXRlbScpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgdmFyIGNhdGVnb3J5SXRlbSA9IF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcucHJvZHVjdC1pdGVtW2RhdGEtY2F0ZWdvcnk9XCInICsgX2hpZGRlbkNhdGVnb3J5LnZhbCgpICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYXRlZ29yeUl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlJdGVtLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgIF9zZWxlY3RlZENhdGVnb3J5TmFtZSA9IGNhdGVnb3J5SXRlbS5maW5kKCcucHJvZHVjdC1uYW1lJykudGV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzaG93UHJvYmxlbUxpc3RTZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5wcm9ibGVtLWxpc3RpbmcnKS5hZGRDbGFzcygnc2hvd2VkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVQcm9ibGVtTGlzdFNlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLnByb2JsZW0tbGlzdGluZycpLnJlbW92ZUNsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgY2FsbFByb2JsZW1MaXN0OiBmdW5jdGlvbihwcm9kdWN0TmFtZUlkLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdENvbnRhaW5lciA9IF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBjYWxsbFVybCA9ICcnLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q7XG4gICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc1Byb3RvdHlwZUhvc3QoKSkge1xuICAgICAgICAgICAgICAgIGNhbGxsVXJsID0gJ2VrLWFzc2V0cy9kaWdpdGFsLWZpcnN0L2pzb24vbGlzdC5qc29uJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGxVcmwgPSAnLycgKyAkKCdib2R5JykuZGF0YSgnc2l0ZScpICsgJy9zdXBwb3J0L3Ryb3VibGVzaG9vdGluZ2pzb24uYXNweD9wX25hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChwcm9kdWN0TmFtZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcXVlc3QgPSAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHVybDogY2FsbGxVcmwsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikge1xuICAgICAgICAgICAgICAgICAgICBfanVtcFRvTGFzdFNlY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlcXVlc3QuZG9uZShmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmxpbmVJdGVtICE9PSAndW5kZWZpbmVkJyAmJiBkYXRhLmxpbmVJdGVtLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2JsZW1BcnJheSA9IGRhdGEubGluZUl0ZW07XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3Byb2JsZW1BcnJheSc6IHByb2JsZW1BcnJheVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRDb250YWluZXIuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdENvbnRhaW5lci5hcHBlbmQodG1wbCgncHJvYmxlbS10eXBlLWxpc3QnLCByZXN1bHREYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2p1bXBUb0xhc3RTZWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3NlbGVjdGVkQ2F0ZWdvcnlOYW1lID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIC8vYWNjZXNzb3J5IGxpbmsgdG8gbmVlZCBoZWxwIHNlY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0Q29udGFpbmVyLmh0bWwoJycpO1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkNvbnRlbnQudmFsKCcwJyk7XG4gICAgICAgICAgICAgICAgICAgIF9oaWRkZW5DYXRlZ29yeS52YWwoJzAnKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucHVzaFBhcmFtcyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXF1ZXN0LmZhaWwoZnVuY3Rpb24oanFYSFIsIHRleHRTdGF0dXMpIHt9KTtcbiAgICAgICAgfSxcbiAgICAgICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1DYXRlZ29yeS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4gICAgICAgIGNhdGVnb3J5SWNvbkNsaWNrOiBmdW5jdGlvbihwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJ2Rpdi5wcm9kdWN0LWl0ZW0nKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvKiBBY3Qgb24gdGhlIGV2ZW50ICovXG4gICAgICAgICAgICAgICAgdmFyIGNhbkNsaWNrID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYW5DbGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5DbGljayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNhbkNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeVZhbHVlID0gJCh0aGlzKS5kYXRhKCdjYXRlZ29yeScpO1xuICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IGhpZGRlbiBpbnB1dFxuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkNvbnRlbnQudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkNhdGVnb3J5LnZhbChjYXRlZ29yeVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9ieSB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYnkgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnB1c2hQYXJhbXMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB1bnNlbGVjdFNpbmdsZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJy5zaW5nbGUtY29udGVudCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICAgICAgX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJy5yZWxhdGVkLWhlbHAtY29udGVudC1pdGVtLmJ0bi1uZWVkLW1vcmUtaGVscCcpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cENsb3NlQ29udGVudExpc3RGb3JNb2JpbGU6IGZ1bmN0aW9uKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZUJ0biA9IHBhcmVudEVsZW1lbnQuZmluZCgnLmRldGFpbC1pdGVtIC5idG4tY2xvc2UnKTtcbiAgICAgICAgICAgIGNsb3NlQnRuLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcnKTtcbiAgICAgICAgICAgICAgICBfaGlkZGVuQ29udGVudC52YWwoJycpO1xuICAgICAgICAgICAgICAgIF9oaWRkZW5DYXRlZ29yeS52YWwoJycpO1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnB1c2hQYXJhbXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBleHBhbmRDb250ZW50TGlzdDogZnVuY3Rpb24ocGFyZW50RWxlbWVudCwgY2F0ZWdvcnlWYWx1ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LmV4cGFuZFNlY29uZExldmVsTGlzdCh0cnVlLCBwYXJlbnRFbGVtZW50LCBjYXRlZ29yeVZhbHVlLCBmdW5jdGlvbihjdXJyZW50SXRlbSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzaW5nbGVDb250ZW50Q2xpY2s6IGZ1bmN0aW9uKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjb250ZW50SXRlbXMgPSBwYXJlbnRFbGVtZW50LmZpbmQoJy5yZWxhdGVkLWhlbHAtY29udGVudC1pdGVtLnNpbmdsZS1jb250ZW50Jyk7XG4gICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51bnNlbGVjdFNpbmdsZUNvbnRlbnQoKTtcbiAgICAgICAgICAgIGNvbnRlbnRJdGVtcy5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRJZCA9ICQodGhpcykuZGF0YSgnY29udGVudC1pZCcpO1xuICAgICAgICAgICAgICAgIF9oaWRkZW5Qb3B1cC52YWwoJycpO1xuICAgICAgICAgICAgICAgIF9oaWRkZW5Db250ZW50LnZhbChjb250ZW50SWQpO1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnB1c2hQYXJhbXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICB0cmlnZ2VyRmlyc3RDYXRlZ29yeUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vdHJpZ2dlciBmaXNydCBpdGVtXG4gICAgICAgICAgICBpZiAoIWNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcucHJvZHVjdC1pdGVtJykuZXEoMCkudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0dXBOZWVkTW9yZUhlbHBDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51bnNlbGVjdFNpbmdsZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICQoJy5idG4tbmVlZC1tb3JlLWhlbHAnKS5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX2hpZGRlblBvcHVwLnZhbCgnJyk7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3JlbGF0ZWQtaGVscC1jb250ZW50LWl0ZW0nKSkge1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ29udGVudC52YWwoMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlbkNvbnRlbnQudmFsKC0xKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2JpbGUgbm90IHRyaWdnZXIgZmlyc3QgY2F0ZWdvcnkgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRkZW5DYXRlZ29yeS52YWwoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2VsZWN0ZWRDYXRlZ29yeU5hbWUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5wdXNoUGFyYW1zKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlUHJvZHVjdE5hbWU6IGZ1bmN0aW9uKHByb2R1Y3ROYW1lKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGVEaXYgPSBfcHJvYmxlbUxpc3RUaXRsZUNvbnRhaW5lci5maW5kKCdoNCcpO1xuICAgICAgICAgICAgdGl0bGVEaXYuZmluZCgnc3BhbicpLnRleHQocHJvZHVjdE5hbWUpO1xuICAgICAgICB9LFxuICAgICAgICB1cGRhdGVNb2JpbGVUaXRsZVByb2R1Y3ROYW1lOiBmdW5jdGlvbihwcm9kdWN0TmFtZSkge1xuICAgICAgICAgICAgdmFyIHRpdGxlRGl2ID0gX3Byb2JsZW1MaXN0VGl0bGVDb250YWluZXIuZmluZCgnaDQnKTtcbiAgICAgICAgICAgIHRpdGxlRGl2LmZpbmQoJ3NwYW4nKS50ZXh0KHByb2R1Y3ROYW1lKTtcbiAgICAgICAgICAgIF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcubS1wb3B1cC10aXRsZScpLnRleHQodGl0bGVEaXYudGV4dCgpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIHByb2JsZW1TZWN0aW9uO1xufSgpKTtcbnZhciBjb250ZW50U2VjdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNvbnRlbnRTZWN0aW9uID0ge1xuICAgICAgICByZXNldEVtYWlsSWNvbkNsaWNrOiBmdW5jdGlvbihwcm9kdWN0TmFtZSwgY2F0ZWdvcnlOYW1lKSB7XG4gICAgICAgICAgICAkKCcuaGVscC1jb250YWN0LWxpc3QgLmVtYWlsID4gYScpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0xpbms7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5TmFtZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TGluayA9ICQodGhpcykuYXR0cignaHJlZicpICsgJz9wbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHByb2R1Y3ROYW1lKSArICcmcG5hbWVfaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChfaGlkZGVuUHJvZHVjdC52YWwoKSkgKyAnJmNhdGVnb3J5X25hbWU9JyArIGVuY29kZVVSSUNvbXBvbmVudChjYXRlZ29yeU5hbWUpICsgJyZjYXRlZ29yeV9pZD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KF9oaWRkZW5DYXRlZ29yeS52YWwoKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TGluayA9ICQodGhpcykuYXR0cignaHJlZicpICsgJz9wbmFtZT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHByb2R1Y3ROYW1lKSArICcmcG5hbWVfaWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChfaGlkZGVuUHJvZHVjdC52YWwoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSBuZXdMaW5rO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZ2hsaW5lQ29udGVudEJsb2NrU2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkQ29udGVudCA9IF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcuc2luZ2xlLWNvbnRlbnRbZGF0YS1jb250ZW50LWlkPVwiJyArIF9oaWRkZW5Db250ZW50LnZhbCgpICsgJ1wiXScpO1xuICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24udW5zZWxlY3RTaW5nbGVDb250ZW50KCk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRDb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbnRlbnQuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgX3NlbGVjdGVkQ29udGVudFRpdGxlID0gc2VsZWN0ZWRDb250ZW50LmZpbmQoJy5wcm9kdWN0LWhlbHAtaW5mbycpLmVxKDApLnRleHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9zZWVsY3QgXCJub3QgbGlzdFwiIGNvbnRlbnRcbiAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkNvbnRlbnQudmFsKCkgPT09ICcwJykge1xuICAgICAgICAgICAgICAgICAgICBfcHJvYmxlbUxpc3RGaXJzdE1haW5Db250YWluZXIuZmluZCgnLnJlbGF0ZWQtaGVscC1jb250ZW50LWl0ZW0uYnRuLW5lZWQtbW9yZS1oZWxwJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUNvbnRlbnQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgICBzaG93TW9yZUhlbHBTZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5tb3JlLWhlbHAtcmVzdWx0JykuYWRkQ2xhc3MoJ3Nob3dlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBoaWRlTW9yZUhlbHBTZWN0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5tb3JlLWhlbHAtcmVzdWx0JykucmVtb3ZlQ2xhc3MoJ3Nob3dlZCcpO1xuICAgICAgICB9LFxuICAgICAgICBzaG93Q29udGVudEFic3RyYWN0U2VjdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuYWJzdHJhY3QtY29udGVudCcpLmFkZENsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZUNvbnRlbnRBYnN0cmFjdFNlY3Rpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLmFic3RyYWN0LWNvbnRlbnQnKS5yZW1vdmVDbGFzcygnc2hvd2VkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIHNob3dQb3B1cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcucG9wdXAtYXJlYScpLmFkZENsYXNzKCdzaG93ZWQnKTtcbiAgICAgICAgICAgICQoJ2JvZHknKS5hZGRDbGFzcygnc3VwcG9ydC1wb3B1cC1maXhlZCcpO1xuICAgICAgICAgICAgJCgnLnBvcHVwLXdpbmRvdycpLnNjcm9sbFRvcCgwKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGlkZVBvcHVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5wb3B1cC1hcmVhJykucmVtb3ZlQ2xhc3MoJ3Nob3dlZCcpO1xuICAgICAgICAgICAgJCgnYm9keScpLnJlbW92ZUNsYXNzKCdzdXBwb3J0LXBvcHVwLWZpeGVkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIGFic3RyYWN0Q29udGVudENsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5hYnN0cmFjdC1zaW5nbGUtY29udGVudC1ibG9jaycpLm9mZignY2xpY2snKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcxJyk7XG4gICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucHVzaFBhcmFtcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZUFic3RyYWN0Q29udGVudDogZnVuY3Rpb24oY29udGVudElkLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgY29udGVudFNlY3Rpb24uY2FsbFNpbmdsZUNvbnRlbnQoX2hpZGRlblByb2R1Y3QudmFsKCksIGNvbnRlbnRJZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBwb3B1cFNpbmdsZUNvbnRlbnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy9zZXR1cCBjbG9zZSBwb3B1cCBidXR0b24gY2xpY2tcbiAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLnNldHVwQ2xvc2VQb3B1cEJ0bigpO1xuICAgICAgICAgICAgY29udGVudFNlY3Rpb24uc2hvd1BvcHVwKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNhbGxTaW5nbGVDb250ZW50OiBmdW5jdGlvbihwcm9kdWN0TmFtZUlkLCBjb250ZW50SWQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGxVcmwgPSAnJyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0O1xuICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNQcm90b3R5cGVIb3N0KCkpIHtcbiAgICAgICAgICAgICAgICBjYWxsbFVybCA9ICdlay1hc3NldHMvZGlnaXRhbC1maXJzdC9qc29uL2NvbnRlbnQuanNvbic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxsVXJsID0gJy8nICsgJCgnYm9keScpLmRhdGEoJ3NpdGUnKSArICcvc3VwcG9ydC90cm91Ymxlc2hvb3Rpbmdqc29uLmFzcHg/cF9uYW1lPScgKyBwcm9kdWN0TmFtZUlkICsgJyZpZD0nICsgY29udGVudElkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVxdWVzdCA9ICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdXJsOiBjYWxsbFVybCxcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxdWVzdC5kb25lKGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGEuY29udGVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpbmdsZS1hcnRpY2xlJykuaHRtbChkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5idWlsZEFic3RyYWN0Q29udGVudChkYXRhLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVxdWVzdC5mYWlsKGZ1bmN0aW9uKGpxWEhSLCB0ZXh0U3RhdHVzKSB7fSk7XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkQWJzdHJhY3RDb250ZW50OiBmdW5jdGlvbihmdWxsQ29udGVudCkge1xuICAgICAgICAgICAgdmFyIHRlbXBEaXYgPSAkKCc8ZGl2IGNsYXNzPVwidGVtcC1jb250ZW50LWJsb2NrXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICB0ZW1wRGl2Lmh0bWwoZnVsbENvbnRlbnQpO1xuICAgICAgICAgICAgdmFyIGFic3RyYWN0Q29udGVudCA9IHRlbXBEaXYudGV4dCgpLnN1YnN0cmluZygwLCAzMDApO1xuICAgICAgICAgICAgJCgnLmFic3RyYWN0LWNvbnRlbnQtYmxvY2snKS50ZXh0KGFic3RyYWN0Q29udGVudCArICcuLi4nKTtcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRTaW5nbGVDb250ZW50VGl0bGU6IGZ1bmN0aW9uKHRpdGxlKSB7XG4gICAgICAgICAgICAkKCcuYWJzdHJhY3Qtc2luZ2xlLWNvbnRlbnQtYmxvY2sgLnRpdGxlLWJsb2NrJykudGV4dCh0aXRsZSk7XG4gICAgICAgICAgICAkKCcucG9wdXAtYXJ0aWNsZSAucG9wdXAtdGl0bGUnKS50ZXh0KHRpdGxlKTtcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRTaW5nbGVDb250ZW50U2hvcnRMaW5rOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdMaW5rID0gJyNwcm90b3R5cGUnO1xuICAgICAgICAgICAgaWYgKCFjb21tb25TZXR0aW5nLmlzUHJvdG90eXBlSG9zdCgpKSB7XG4gICAgICAgICAgICAgICAgbmV3TGluayA9IGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyAnLycgKyAkKCdib2R5JykuZGF0YSgnc2l0ZScpICsgJy9jb250YWN0L3Byb2R1Y3Rpc3N1ZS8nICsgX2hpZGRlblByb2R1Y3QudmFsKCkgKyAnLycgKyBfaGlkZGVuQ29udGVudC52YWwoKSArICcvJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoJy5nby10by1wYWdlJykuYXR0cignZGF0YS1jbGlwYm9hcmQtdGV4dCcsIG5ld0xpbmspO1xuICAgICAgICAgICAgdmFyIGNsaXBib2FyZCA9IG5ldyBDbGlwYm9hcmQoJy5nby10by1wYWdlJyk7XG4gICAgICAgICAgICBjbGlwYm9hcmQub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNvcHktbXNnJykuYWRkQ2xhc3MoJ3Nob3cnKTtcbiAgICAgICAgICAgICAgICAvL2F1dG8gaGlkZSBtc2cgYWZ0ZXJcbiAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vICAgICAkKCcuY29weS1tc2cnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICAgICAgICAgIC8vIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgIGUuY2xlYXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBoaWRlQ29waWVkTXNnVGV4dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcuY29weS1tc2cnKS5yZW1vdmVDbGFzcygnc2hvdycpO1xuICAgICAgICB9LFxuICAgICAgICBzZXR1cENsb3NlUG9wdXBCdG46IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNsb3NlQnRuID0gJCgnLnBvcHVwLWFyZWEgLmJ0bi1jbG9zZScpO1xuICAgICAgICAgICAgaWYgKGNsb3NlQnRuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjbG9zZUJ0bi5vZmYoJ2NsaWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuUG9wdXAudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucHVzaFBhcmFtcygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGNvbnRlbnRTZWN0aW9uO1xufSgpKTtcbnZhciBjb250YWN0U3VwcG9ydCA9IChmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgdmFyIGNvbnRhY3RTdXBwb3J0ID0ge1xuICAgICAgICAvL1BhZ2UgaW5pdGlhbFxuICAgICAgICByZXN0b3JlUGFnZVN0YXR1czogZnVuY3Rpb24oY2FsbEZyb21OYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5hZGRQcm9kdWN0TGlzdFBhZGRpbmcoKTtcbiAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLmZhbWlseUljb25DbGljayhfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIpO1xuICAgICAgICAgICAgaWYgKGNhbGxGcm9tTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgIF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lci5maW5kKCcuZGV0YWlsLWl0ZW0nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBjYXJyaWVyU2VjdGlvbi5oaWRlQ2FycmllclNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5oaWRlUHJvYmxlbUxpc3RTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZUNvbnRlbnRBYnN0cmFjdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlTW9yZUhlbHBTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoX2hpZGRlbkZhbWlseS52YWwoKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5yZXZtb3ZlUHJvZHVjdExpc3RQYWRkaW5nKCk7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24uaGlnaGxpbmVGYW1pbHlJY29uU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5zaG93UHJvZHVjdExpc3RTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24uZXhwYW5kUHJvZHVjdExpc3QoX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyLCBfaGlkZGVuRmFtaWx5LnZhbCgpLCBmdW5jdGlvbihjdXJyZW50SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5wcm9kdWN0SWNvbkNsaWNrKF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLnNldHVwQ2xvc2VQcm9kdWN0TGlzdEZvck1vYmlsZShfcHJvZHVjdExpc3RGaXJzdE1haW5Db250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkluZGV4LnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24uYWN0aXZlRGV0YWlsSXRlbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZU1vcmVIZWxwU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZUNvbnRlbnRBYnN0cmFjdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLmhpZGVQcm9ibGVtTGlzdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLmhpZ2hsaW5lUHJvZHVjdEljb25TZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uZXhwYW5kQ2Fycmllcmxpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfY2FycmllckV4aXN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJyaWVyU2VjdGlvbi5jYXJyaWVyTmFtZUNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uc2hvd0NhcnJpZXJTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlblByb2R1Y3QudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uaGlnaGxpbmVDYXJyaWVyTmFtZVNlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uY2FsbFByb2JsZW1MaXN0KF9oaWRkZW5Qcm9kdWN0LnZhbCgpLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24udXBkYXRlUHJvZHVjdE5hbWUoX3NlbGVjdGVkUHJvZHVjdE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5jYXRlZ29yeUljb25DbGljayhfcHJvYmxlbUxpc3RGaXJzdE1haW5Db250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5zaG93UHJvYmxlbUxpc3RTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGlkZGVuQ2F0ZWdvcnkudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkNhdGVnb3J5LnZhbCgpID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucmVtb3ZlRGV0YWlsSXRlbUZvck1vYmlsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5yZXNldEVtYWlsSWNvbkNsaWNrKF9zZWxlY3RlZFByb2R1Y3ROYW1lLCBfc2VsZWN0ZWRDYXRlZ29yeU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWdobGluZUNvbnRlbnRCbG9ja1NlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uc2hvd01vcmVIZWxwU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uZXhwYW5kQ29udGVudExpc3QoX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyLCBfaGlkZGVuQ2F0ZWdvcnkudmFsKCksIGZ1bmN0aW9uKGN1cnJlbnRJdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLmhpZ2hsaW5lQ2F0ZWdvcnlJY29uU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uc2luZ2xlQ29udGVudENsaWNrKF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLnNldHVwQ2xvc2VDb250ZW50TGlzdEZvck1vYmlsZShfcHJvYmxlbUxpc3RGaXJzdE1haW5Db250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51cGRhdGVNb2JpbGVUaXRsZVByb2R1Y3ROYW1lKF9zZWxlY3RlZFByb2R1Y3ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24ucmVzZXRFbWFpbEljb25DbGljayhfc2VsZWN0ZWRQcm9kdWN0TmFtZSwgX3NlbGVjdGVkQ2F0ZWdvcnlOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uc2V0dXBOZWVkTW9yZUhlbHBDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkNvbnRlbnQudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5hY3RpdmVEZXRhaWxJdGVtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlQ29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZU1vcmVIZWxwU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5yZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkNvbnRlbnQudmFsKCkgPT09ICcwJyB8fCBfaGlkZGVuQ29udGVudC52YWwoKSA9PT0gJy0xJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZ2hsaW5lQ29udGVudEJsb2NrU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5zaG93TW9yZUhlbHBTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi51cGRhdGVBYnN0cmFjdENvbnRlbnQoX2hpZGRlbkNvbnRlbnQudmFsKCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWdobGluZUNvbnRlbnRCbG9ja1NlbGVjdGVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmJ1aWxkU2luZ2xlQ29udGVudFRpdGxlKF9zZWxlY3RlZENvbnRlbnRUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVDb3BpZWRNc2dUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmJ1aWxkU2luZ2xlQ29udGVudFNob3J0TGluaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5hYnN0cmFjdENvbnRlbnRDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5zaG93Q29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlblBvcHVwLnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24ucG9wdXBTaW5nbGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5yZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uc2V0dXBOZWVkTW9yZUhlbHBDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90cmlnZ2VyIGZpc3J0IGl0ZW0sIG9ubHkgaW4gZGVza3RvcFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLnRyaWdnZXJGaXJzdENhdGVnb3J5Q2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucmVtb3ZlRGV0YWlsSXRlbUZvck1vYmlsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxGcm9tTmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5yZW1vdmVGYW1pbHlJY29uSGlnaGxpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9BbnkgaGlzdG9yeSBhZGRcbiAgICAgICAgc2V0dXBDbGlja1N0YXR1czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCk7XG4gICAgICAgICAgICBpZiAoX2hpZGRlblBvcHVwLnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLnBvcHVwU2luZ2xlQ29udGVudCgpO1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKF9oaWRkZW5Db250ZW50LnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlQ29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlTW9yZUhlbHBTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnJlbW92ZURldGFpbEl0ZW1Gb3JNb2JpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoX2hpZGRlbkNvbnRlbnQudmFsKCkgPT09ICcwJyB8fCBfaGlkZGVuQ29udGVudC52YWwoKSA9PT0gJy0xJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5yZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9qdW1wVG9MYXN0U2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZ2hsaW5lQ29udGVudEJsb2NrU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLnJlc2V0RW1haWxJY29uQ2xpY2soX3NlbGVjdGVkUHJvZHVjdE5hbWUsIF9zZWxlY3RlZENhdGVnb3J5TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5zaG93TW9yZUhlbHBTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi51cGRhdGVBYnN0cmFjdENvbnRlbnQoX2hpZGRlbkNvbnRlbnQudmFsKCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZ2hsaW5lQ29udGVudEJsb2NrU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5idWlsZFNpbmdsZUNvbnRlbnRUaXRsZShfc2VsZWN0ZWRDb250ZW50VGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVDb3BpZWRNc2dUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uYnVpbGRTaW5nbGVDb250ZW50U2hvcnRMaW5rKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uYWJzdHJhY3RDb250ZW50Q2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5zaG93Q29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9oaWRkZW5DYXRlZ29yeS52YWwoKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLmV4cGFuZENvbnRlbnRMaXN0KF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lciwgX2hpZGRlbkNhdGVnb3J5LnZhbCgpLCBmdW5jdGlvbihjdXJyZW50SXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVDb250ZW50QWJzdHJhY3RTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZU1vcmVIZWxwU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLmhpZ2hsaW5lQ2F0ZWdvcnlJY29uU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51bnNlbGVjdFNpbmdsZUNvbnRlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKipGb3Igbm8gY2FycmllciBwcm9kdWN0LCBlZzogaHRjLWJvbHQqKioqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLmhpZ2hsaW5lUHJvZHVjdEljb25TZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcnJpZXJTZWN0aW9uLmhpZ2hsaW5lQ2Fycmllck5hbWVTZWxlY3RlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLnVwZGF0ZVByb2R1Y3ROYW1lKF9zZWxlY3RlZFByb2R1Y3ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKioqKioqKioqKioqKioqKioqKioqKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5zaW5nbGVDb250ZW50Q2xpY2soX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5zZXR1cENsb3NlQ29udGVudExpc3RGb3JNb2JpbGUoX3Byb2JsZW1MaXN0Rmlyc3RNYWluQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51cGRhdGVNb2JpbGVUaXRsZVByb2R1Y3ROYW1lKF9zZWxlY3RlZFByb2R1Y3ROYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5yZXNldEVtYWlsSWNvbkNsaWNrKF9zZWxlY3RlZFByb2R1Y3ROYW1lLCBfc2VsZWN0ZWRDYXRlZ29yeU5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLnNldHVwTmVlZE1vcmVIZWxwQ2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGlkZGVuUHJvZHVjdC52YWwoKSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlQ29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVNb3JlSGVscFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJyaWVyU2VjdGlvbi5oaWdobGluZUNhcnJpZXJOYW1lU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5jYWxsUHJvYmxlbUxpc3QoX2hpZGRlblByb2R1Y3QudmFsKCksIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi51cGRhdGVQcm9kdWN0TmFtZShfc2VsZWN0ZWRQcm9kdWN0TmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLmNhdGVnb3J5SWNvbkNsaWNrKF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JsZW1TZWN0aW9uLnNob3dQcm9ibGVtTGlzdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uU2V0dGluZy5yZW1vdmVNb2JpbGVQb3B1cEZpeCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQucmVtb3ZlRGV0YWlsSXRlbUZvck1vYmlsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uc2V0dXBOZWVkTW9yZUhlbHBDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24udHJpZ2dlckZpcnN0Q2F0ZWdvcnlDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGlkZGVuSW5kZXgudmFsKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRTZWN0aW9uLmhpZGVNb3JlSGVscFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZUNvbnRlbnRBYnN0cmFjdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmxlbVNlY3Rpb24uaGlkZVByb2JsZW1MaXN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5oaWdobGluZVByb2R1Y3RJY29uU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uZXhwYW5kQ2Fycmllcmxpc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uY2Fycmllck5hbWVDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tb25TZXR0aW5nLnJlbW92ZU1vYmlsZVBvcHVwRml4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5yZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9jYXJyaWVyRXhpc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uY2Fycmllck5hbWVDbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uc2hvd0NhcnJpZXJTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfaGlkZGVuRmFtaWx5LnZhbCgpICE9PSAnJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FycmllclNlY3Rpb24uaGlkZUNhcnJpZXJTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ibGVtU2VjdGlvbi5oaWRlUHJvYmxlbUxpc3RTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50U2VjdGlvbi5oaWRlQ29udGVudEFic3RyYWN0U2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudFNlY3Rpb24uaGlkZU1vcmVIZWxwU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24ucmV2bW92ZVByb2R1Y3RMaXN0UGFkZGluZygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24uaGlnaGxpbmVGYW1pbHlJY29uU2VsZWN0ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLnNob3dQcm9kdWN0TGlzdFNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RTZWN0aW9uLmV4cGFuZFByb2R1Y3RMaXN0KF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lciwgX2hpZGRlbkZhbWlseS52YWwoKSwgZnVuY3Rpb24oY3VycmVudEl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0U2VjdGlvbi5wcm9kdWN0SWNvbkNsaWNrKF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24uc2V0dXBDbG9zZVByb2R1Y3RMaXN0Rm9yTW9iaWxlKF9wcm9kdWN0TGlzdEZpcnN0TWFpbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFNlY3Rpb24ucmVtb3ZlRmFtaWx5SWNvbkhpZ2hsaW5lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbW9uU2V0dGluZy5yZW1vdmVNb2JpbGVQb3B1cEZpeCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnJlbW92ZURldGFpbEl0ZW1Gb3JNb2JpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tQ29tbW9uIHNldHRpbmctLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuICAgICAgICBleHBhbmRTZWNvbmRMZXZlbExpc3Q6IGZ1bmN0aW9uKHNsaWRlQW5pbWF0aW9uLCBwYXJlbnRFbGVtZW50LCBmaWx0ZXJWYWx1ZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBkZXRhaWxJdGVtc0NvbnRhaW5lciA9IHBhcmVudEVsZW1lbnQuZmluZCgnLmRldGFpbC1pdGVtJyk7XG4gICAgICAgICAgICAvL3Jlc2V0IF9wcm9kdWN0TGlzdERldGFpbEl0ZW1IZWlnaHRcbiAgICAgICAgICAgIF9wcm9kdWN0TGlzdERldGFpbEl0ZW1IZWlnaHQgPSAwO1xuICAgICAgICAgICAgaWYgKGNvbW1vblNldHRpbmcuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcucmVtb3ZlTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5yZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGV0YWlsSXRlbXNDb250YWluZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIF9wcm9kdWN0TGlzdERldGFpbEl0ZW1IZWlnaHQgPSBkZXRhaWxJdGVtc0NvbnRhaW5lci5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBkZXRhaWxJdGVtc0NvbnRhaW5lci5jc3MoJ2hlaWdodCcsIF9wcm9kdWN0TGlzdERldGFpbEl0ZW1IZWlnaHQpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKS5odG1sKCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGV0YWlsSXRlbXNDb250YWluZXIgPSAkKCc8ZGl2IGNsYXNzPVwiZGV0YWlsLWl0ZW1cIj48L2Rpdj4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcmVudEVsZW1lbnQuZmluZCgnLnByb2R1Y3QtaXRlbScpLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckNsYXNzID0gJ2ZhbWlseSc7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudEVsZW1lbnQucGFyZW50cygnc2VjdGlvbicpLmhhc0NsYXNzKCdwcm9ibGVtLWxpc3RpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJDbGFzcyA9ICdjYXRlZ29yeSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qIGl0ZXJhdGUgdGhyb3VnaCBhcnJheSBvciBvYmplY3QgKi9cbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKGZpbHRlckNsYXNzKSA9PT0gZmlsdGVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kSXRlbUluZGV4ID0gY29udGFjdFN1cHBvcnQuYXBwZW5kQWZ0ZXJJdGVtKGN1cnJlbnRJbmRleCwgcGFyZW50RWxlbWVudCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRIdG1sID0gJzxkaXYgY2xhc3M9XCJyZWxhdGVkLXByb2R1Y3QtZ3JvdXBcIj48ZGl2IGNsYXNzPVwiYnRuLWNsb3NlXCI+PC9kaXY+PGRpdiBjbGFzcz1cInBvcHVwLXRpdGxlIG0tcG9wdXAtdGl0bGVcIj4nICsgJCgnLmhpZGRlbi1zZWxlY3QtcHJvZHVjdC1tb2RlbCcpLnZhbCgpICsgJzwvZGl2PicgKyAkKHRoaXMpLmZpbmQoJy5yZWxhdGVkLXByb2R1Y3RzJykuaHRtbCgpICsgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRFbGVtZW50LnBhcmVudHMoJ3NlY3Rpb24nKS5oYXNDbGFzcygncHJvYmxlbS1saXN0aW5nJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZEh0bWwgPSAnPGRpdiBjbGFzcz1cInJlbGF0ZWQtcHJvZHVjdC1ncm91cCByZWxhdGVkLXByb2JsZW0tZ3JvdXBcIj48ZGl2IGNsYXNzPVwiYnRuLWNsb3NlXCI+PC9kaXY+PGRpdiBjbGFzcz1cInBvcHVwLXRpdGxlIG0tcG9wdXAtdGl0bGVcIj4nICsgJCgnLmhpZGRlbi1zZWxlY3QteW91ci1pc3N1ZScpLnZhbCgpICsgJzwvZGl2PicgKyAkKHRoaXMpLmZpbmQoJy5yZWxhdGVkLXByb2R1Y3RzJykuaHRtbCgpICsgJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcHBlbmRJdGVtSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWxJdGVtc0NvbnRhaW5lci5hcHBlbmQoYXBwZW5kSHRtbCkuaW5zZXJ0QWZ0ZXIocGFyZW50RWxlbWVudC5maW5kKCcucHJvZHVjdC1pdGVtJykubGFzdCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbEl0ZW1zQ29udGFpbmVyLmFwcGVuZChhcHBlbmRIdG1sKS5pbnNlcnRBZnRlcihwYXJlbnRFbGVtZW50LmZpbmQoJy5wcm9kdWN0LWl0ZW0nKS5lcShhcHBlbmRJdGVtSW5kZXgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbW9uU2V0dGluZy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHBhcmVudEVsZW1lbnQucGFyZW50cygnc2VjdGlvbicpLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3RpbmcnKSAmJiBfaGlkZGVuUHJvZHVjdC52YWwoKSA9PT0gJycpIHx8IChwYXJlbnRFbGVtZW50LnBhcmVudHMoJ3NlY3Rpb24nKS5oYXNDbGFzcygncHJvYmxlbS1saXN0aW5nJykgJiYgX2hpZGRlbkNvbnRlbnQudmFsKCkgPT09ICcnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRldGFpbEl0ZW1zQ29udGFpbmVyLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tb25TZXR0aW5nLmFkZE1vYmlsZVBvcHVwRml4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0YWlsSXRlbXNDb250YWluZXIuY3NzKCdtaW4taGVpZ2h0JywgJ2luaGVyaXQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGV0YWlsSXRlbXNDb250YWluZXIuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1vblNldHRpbmcuYWRkTW9iaWxlUG9wdXBGaXgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RldGFpbEl0ZW1zQ29udGFpbmVyLmNzcygnbWluLWhlaWdodCcsICdpbmhlcml0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJlbnRJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzY3JvbGxUb0xhc3RTZWN0aW9uOiBmdW5jdGlvbih3YWl0VW50aWxMb2FkKSB7XG4gICAgICAgICAgICBpZiAoJCgnc2VjdGlvbi5zaG93ZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlY3Rpb25JdGVtID0gJCgnc2VjdGlvbi5zaG93ZWQnKS5sYXN0KCksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEl0ZW07XG4gICAgICAgICAgICAgICAgaWYgKHNlY3Rpb25JdGVtLmhhc0NsYXNzKCdwcm9kdWN0LWxpc3RpbmcnKSkge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxJdGVtID0gc2VjdGlvbkl0ZW0uZmluZCgnLnRpdGxlIGg0Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSXRlbSA9IHNlY3Rpb25JdGVtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250YWN0U3VwcG9ydC5zY3JlZW5TY3JvbGwoc2VjdGlvbkl0ZW0sIHNjcm9sbEl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBzY3JlZW5TY3JvbGw6IGZ1bmN0aW9uKHNlY3Rpb25JdGVtLCBzY3JvbGxJdGVtLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9IDcwLFxuICAgICAgICAgICAgICAgICRkZXRhaWxJdGVtID0gbnVsbCxcbiAgICAgICAgICAgICAgICBzY3JvbGxIZWlnaHRQb3NpdGlvbiA9ICQoc2Nyb2xsSXRlbSkub2Zmc2V0KCkudG9wIC0gaGVhZGVySGVpZ2h0LFxuICAgICAgICAgICAgICAgIHRpbWVMaW5lT2JqO1xuICAgICAgICAgICAgdGltZUxpbmVPYmogPSBuZXcgVGltZWxpbmVMaXRlKCk7XG4gICAgICAgICAgICBpZiAoc2VjdGlvbkl0ZW0uaGFzQ2xhc3MoJ3Byb2R1Y3QtbGlzdGluZycpIHx8IHNlY3Rpb25JdGVtLmhhc0NsYXNzKCdwcm9ibGVtLWxpc3RpbmcnKSkge1xuICAgICAgICAgICAgICAgICRkZXRhaWxJdGVtID0gc2VjdGlvbkl0ZW0uZmluZCgnLmRldGFpbC1pdGVtJyk7XG4gICAgICAgICAgICAgICAgLy9leHBhbmQgXG4gICAgICAgICAgICAgICAgaWYgKCFjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZUxpbmVPYmouYWRkKFR3ZWVuTGl0ZS5zZXQoJGRldGFpbEl0ZW0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgdGltZUxpbmVPYmouYWRkKFR3ZWVuTGl0ZS5mcm9tKCRkZXRhaWxJdGVtLCAwLjUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogX3Byb2R1Y3RMaXN0RGV0YWlsSXRlbUhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vc2Nyb2xsIHRvIHNlY3Rpb25cbiAgICAgICAgICAgICAgICB0aW1lTGluZU9iai50byh3aW5kb3csIDAuNSwge1xuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUbzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgeTogc2Nyb2xsSGVpZ2h0UG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sICctPTAuNDUnKTtcbiAgICAgICAgICAgICAgICB0aW1lTGluZU9iai5jYWxsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkZGV0YWlsSXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfSwgW10sIHRoaXMsICctPTAuNDAnKTtcbiAgICAgICAgICAgICAgICAvL3BsYXlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lTGluZU9iai5wbGF5KCk7XG4gICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9zY3JvbGwgdG8gc2VjdGlvblxuICAgICAgICAgICAgICAgIC8vIHRpbWVMaW5lT2JqLnRvKHdpbmRvdywgMC41LCB7XG4gICAgICAgICAgICAgICAgLy8gICAgIHNjcm9sbFRvOiB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB5OiBzY3JvbGxIZWlnaHRQb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxIZWlnaHRQb3NpdGlvblxuICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgIH0sIDI1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGl0ZW1zSW5Sb3c6IGZ1bmN0aW9uKHBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBsaXNJblJvdyA9IDA7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmZpbmQoJy5wcm9kdWN0LWl0ZW0nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnByZXYoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLnBvc2l0aW9uKCkudG9wICE9PSAkKHRoaXMpLnByZXYoKS5wb3NpdGlvbigpLnRvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpc0luUm93Kys7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGlzSW5Sb3crKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBsaXNJblJvdztcbiAgICAgICAgfSxcbiAgICAgICAgZGV0ZWN0QWxpZ25TdGFydDogZnVuY3Rpb24ocGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGl0ZW1zRXZlcnlSb3cgPSBjb250YWN0U3VwcG9ydC5pdGVtc0luUm93KHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHRvdGFsUHJvZHVjdHMgPSBwYXJlbnRFbGVtZW50LmZpbmQoJy5wcm9kdWN0LWl0ZW0nKS5sZW5ndGg7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LnJlbW92ZUNsYXNzKCdhbGlnbi1zdGFydCcpO1xuICAgICAgICB9LFxuICAgICAgICBhcHBlbmRBZnRlckl0ZW06IGZ1bmN0aW9uKGlkeCwgcGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGl0ZW1zRXZlcnlSb3cgPSBjb250YWN0U3VwcG9ydC5pdGVtc0luUm93KHBhcmVudEVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHJlc3VsdFJvdyA9IDE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gaXRlbXNFdmVyeVJvdzsgaSA8IHBhcmVudEVsZW1lbnQuZmluZCgnLnByb2R1Y3QtaXRlbScpLmxlbmd0aDsgaSArPSBpdGVtc0V2ZXJ5Um93KSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA8IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkgLSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFJvdyArPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaW5pdE9iajogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfaGlkZGVuRmFtaWx5ID0gJCgnLmhpZGRlbi1zZWxldGVkLWZhbWlseScpO1xuICAgICAgICAgICAgX2hpZGRlbkluZGV4ID0gJCgnLmhpZGRlbi1zZWxldGVkLWluZGV4Jyk7XG4gICAgICAgICAgICBfaGlkZGVuUHJvZHVjdCA9ICQoJy5oaWRkZW4tc2VsZXRlZC1wcm9kdWN0Jyk7XG4gICAgICAgICAgICBfaGlkZGVuQ2F0ZWdvcnkgPSAkKCcuaGlkZGVuLXNlbGV0ZWQtY2F0ZWdvcnknKTtcbiAgICAgICAgICAgIF9oaWRkZW5Db250ZW50ID0gJCgnLmhpZGRlbi1zZWxldGVkLWNvbnRlbnQnKTtcbiAgICAgICAgICAgIF9oaWRkZW5Qb3B1cCA9ICQoJy5oaWRkZW4tc2VsZXRlZC1wb3B1cCcpO1xuICAgICAgICAgICAgX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyID0gJCgnLnByb2R1Y3QtbGlzdGluZyAuZmxleC1ib3gtYXJlYScpO1xuICAgICAgICAgICAgX3Byb2R1Y3RMaXN0Rmlyc3RMZXZlbEl0ZW1zID0gX3Byb2R1Y3RMaXN0Rmlyc3RNYWluQ29udGFpbmVyLmZpbmQoJ2Rpdi5wcm9kdWN0LWl0ZW0nKTtcbiAgICAgICAgICAgIF9wcm9ibGVtTGlzdFRpdGxlQ29udGFpbmVyID0gJCgnLnByb2JsZW0tbGlzdGluZyAudGl0bGUnKTtcbiAgICAgICAgICAgIF9wcm9ibGVtTGlzdEZpcnN0TWFpbkNvbnRhaW5lciA9ICQoJy5wcm9ibGVtLWxpc3RpbmcgLmZsZXgtYm94LWFyZWEnKTtcbiAgICAgICAgICAgIF9jYXJyaWVyTGlzdENvbnRhaW5lciA9ICQoJy5jYXJyaWVyLWxpc3RpbmcgLmNhcnJpZXItbGlzdC1jb250YWluZXInKTtcbiAgICAgICAgfSxcbiAgICAgICAgdXBkYXRlSGlkZGVuSW5wdXQ6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gJC51cmwoKSxcbiAgICAgICAgICAgICAgICBwYXJhbUZhbWlseSA9IHVybC5wYXJhbSgnZmFtaWx5JyksXG4gICAgICAgICAgICAgICAgcGFyYW1JbmRleCA9IHVybC5wYXJhbSgnaW5kZXgnKSxcbiAgICAgICAgICAgICAgICBwYXJhbVByb2R1Y3QgPSB1cmwucGFyYW0oJ3Byb2R1Y3QnKSxcbiAgICAgICAgICAgICAgICBwYXJhbUNhdGVnb3J5ID0gdXJsLnBhcmFtKCdjYXRlZ29yeWlkJyksXG4gICAgICAgICAgICAgICAgcGFyYW1Db250ZW50ID0gdXJsLnBhcmFtKCdjb250ZW50JyksXG4gICAgICAgICAgICAgICAgcGFyYW1Qb3B1cCA9IHVybC5wYXJhbSgncG9wdXAnKTtcbiAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LmluaXRPYmooKTtcbiAgICAgICAgICAgIF9oaWRkZW5GYW1pbHkudmFsKCcnKTtcbiAgICAgICAgICAgIF9oaWRkZW5JbmRleC52YWwoJycpO1xuICAgICAgICAgICAgX2hpZGRlblByb2R1Y3QudmFsKCcnKTtcbiAgICAgICAgICAgIF9oaWRkZW5DYXRlZ29yeS52YWwoJycpO1xuICAgICAgICAgICAgX2hpZGRlbkNvbnRlbnQudmFsKCcnKTtcbiAgICAgICAgICAgIF9oaWRkZW5Qb3B1cC52YWwoJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbUZhbWlseSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBfaGlkZGVuRmFtaWx5LnZhbChwYXJhbUZhbWlseSk7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbUluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBfaGlkZGVuSW5kZXgudmFsKHBhcmFtSW5kZXgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtUHJvZHVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgX2hpZGRlblByb2R1Y3QudmFsKHBhcmFtUHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW1DYXRlZ29yeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRkZW5DYXRlZ29yeS52YWwocGFyYW1DYXRlZ29yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtQ29udGVudCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZGVuQ29udGVudC52YWwocGFyYW1Db250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtUG9wdXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRkZW5Qb3B1cC52YWwocGFyYW1Qb3B1cCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy91cGRhdGUgaGlkZGVuIGlwdXRzIGFuZCB0aGVuXG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9LFxuICAgICAgICBwdXNoUGFyYW1zOiBmdW5jdGlvbihpc1B1c2gpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZEZhbWlseSA9IF9oaWRkZW5GYW1pbHkudmFsKCksXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJbmRleCA9IF9oaWRkZW5JbmRleC52YWwoKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFByb2R1Y3QgPSBfaGlkZGVuUHJvZHVjdC52YWwoKSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENhdGVnb3J5ID0gX2hpZGRlbkNhdGVnb3J5LnZhbCgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29udGVudCA9IF9oaWRkZW5Db250ZW50LnZhbCgpLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUG9wdXAgPSBfaGlkZGVuUG9wdXAudmFsKCksXG4gICAgICAgICAgICAgICAgdXJsUGF0aCA9ICcnO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZEZhbWlseSAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZWN0ZWRGYW1pbHkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVybFBhdGggKz0gJyZmYW1pbHk9JyArIHNlbGVjdGVkRmFtaWx5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZEluZGV4ICE9PSAndW5kZWZpbmVkJyAmJiBzZWxlY3RlZEluZGV4Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB1cmxQYXRoICs9ICcmaW5kZXg9JyArIHNlbGVjdGVkSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkUHJvZHVjdCAhPT0gJ3VuZGVmaW5lZCcgJiYgc2VsZWN0ZWRQcm9kdWN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB1cmxQYXRoICs9ICcmcHJvZHVjdD0nICsgc2VsZWN0ZWRQcm9kdWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZENhdGVnb3J5ICE9PSAndW5kZWZpbmVkJyAmJiBzZWxlY3RlZENhdGVnb3J5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB1cmxQYXRoICs9ICcmY2F0ZWdvcnlpZD0nICsgc2VsZWN0ZWRDYXRlZ29yeTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0ZWRDb250ZW50ICE9PSAndW5kZWZpbmVkJyAmJiBzZWxlY3RlZENvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVybFBhdGggKz0gJyZjb250ZW50PScgKyBzZWxlY3RlZENvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkUG9wdXAgIT09ICd1bmRlZmluZWQnICYmIHNlbGVjdGVkUG9wdXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVybFBhdGggKz0gJyZwb3B1cD0nICsgc2VsZWN0ZWRQb3B1cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmICh1cmxQYXRoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vICAgICB1cmxQYXRoID0gJz8nICsgdXJsUGF0aC5zdWJzdHJpbmcoMSwgdXJsUGF0aC5sZW5ndGgpO1xuICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBpc1B1c2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgSGlzdG9yeS5wdXNoU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICByYW5kOiBNYXRoLnJhbmRvbSgpLFxuICAgICAgICAgICAgICAgICAgICBmYW1pbHk6IHNlbGVjdGVkRmFtaWx5LFxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBzZWxlY3RlZFByb2R1Y3QsXG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5OiBzZWxlY3RlZENhdGVnb3J5LFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBzZWxlY3RlZENvbnRlbnRcbiAgICAgICAgICAgICAgICB9LCBkb2N1bWVudC50aXRsZSwgJz8nICsgdXJsUGF0aCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIEhpc3RvcnkucmVwbGFjZVN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZDogTWF0aC5yYW5kb20oKSxcbiAgICAgICAgICAgICAgICAgICAgZmFtaWx5OiBzZWxlY3RlZEZhbWlseSxcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogc2VsZWN0ZWRQcm9kdWN0LFxuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeTogc2VsZWN0ZWRDYXRlZ29yeSxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogc2VsZWN0ZWRDb250ZW50XG4gICAgICAgICAgICAgICAgfSwgZG9jdW1lbnQudGl0bGUsICc/JyArIHVybFBhdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmVEZXRhaWxJdGVtRm9yTW9iaWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChjb21tb25TZXR0aW5nLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgICAgICAkKCcuZGV0YWlsLWl0ZW0nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGNvbnRhY3RTdXBwb3J0O1xufSgpKTtcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICBjb250YWN0U3VwcG9ydC51cGRhdGVIaWRkZW5JbnB1dChmdW5jdGlvbigpIHtcbiAgICAgICAgJC53aGVuKGNvbnRhY3RTdXBwb3J0LnJlc3RvcmVQYWdlU3RhdHVzKGZhbHNlKSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnNjcm9sbFRvTGFzdFNlY3Rpb24oKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59KTtcbiQod2luZG93KS5iaW5kKCdwb3BzdGF0ZScsIGZ1bmN0aW9uKGUpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgaWYgKHR5cGVvZiBlLm9yaWdpbmFsRXZlbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vYnJvd3NlciBiYWNrIG9yIGZvcndvcmQga2V5XG4gICAgICAgIGNvbnRhY3RTdXBwb3J0LnVwZGF0ZUhpZGRlbklucHV0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJC53aGVuKGNvbnRhY3RTdXBwb3J0LnJlc3RvcmVQYWdlU3RhdHVzKHRydWUpKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTdXBwb3J0LnNjcm9sbFRvTGFzdFNlY3Rpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWN0U3VwcG9ydC51cGRhdGVIaWRkZW5JbnB1dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQud2hlbihjb250YWN0U3VwcG9ydC5zZXR1cENsaWNrU3RhdHVzKCkpLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdFN1cHBvcnQuc2Nyb2xsVG9MYXN0U2VjdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pO1xuJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICAndXNlIHN0cmljdCc7XG4gICAgY29tbW9uU2V0dGluZy5mb3JjZVBhZ2VSZWxvYWQoKTtcbn0pOyJdfQ==
